import{w as F,b as H,T as A}from"./vendor-8F4M-BzORa8vA.js";import{a as Z,u as _}from"./vendor-5WKb-KWd2YoVw.js";import{E as G}from"./vendor-yhZL-jMW_tup8.js";import{E as h}from"./vendor-AQSj-DFJim-ok.js";import{b as P,c as U}from"./vendor-WMoX-vkUJ93fA.js";import{g as j,a as q}from"./vendor-PkwG-DImsd0bZ.js";import{_ as J}from"./vendor-pM4a-CqGSI99y.js";import{a as K}from"./vendor-sC5d-B-dxDEiz.js";import{a as T,T as Q}from"./vendor-9yxy-Cbwm2u4R.js";import{E as W}from"./vendor-bP7i-BUADUvnR.js";import{d as w,c as a,e as X,w as Y,f as i,o as n,h as d,y as x,b as k,C as u,r as ee,i as se,a as E,F as oe,z as te}from"./vendor-RE7Z-DOm9JKld.js";import{r as v,u as s}from"./vendor-eqDO-Ti6p_k8X.js";import{a as ae,n as r,t as ne}from"./vendor-7avT-DhdrFwTb.js";import{u as re}from"./vendor-k87t-DYFOtHqs.js";const ie=w({name:"ElMessage"}),le=w({...ie,props:U,emits:P,setup(M,{expose:B}){const o=M,{Close:L}=Q,{ns:t,zIndex:S}=K("message"),{currentZIndex:N,nextZIndex:z}=S,p=v(),l=v(!1),y=v(0);let c;const O=a(()=>o.type?o.type==="error"?"danger":o.type:"info"),I=a(()=>{const e=o.type;return{[t.bm("icon",e)]:e&&T[e]}}),g=a(()=>o.icon||T[o.type]||""),D=a(()=>j(o.id)),C=a(()=>q(o.id,o.offset)+D.value),R=a(()=>y.value+C.value),V=a(()=>({top:`${C.value}px`,zIndex:N.value}));function f(){o.duration!==0&&({stop:c}=re(()=>{m()},o.duration))}function b(){c==null||c()}function m(){l.value=!1}function $({code:e}){e===W.esc&&m()}return X(()=>{f(),z(),l.value=!0}),Y(()=>o.repeatNum,()=>{b(),f()}),Z(document,"keydown",$),_(p,()=>{y.value=p.value.getBoundingClientRect().height}),B({visible:l,bottom:R,close:m}),(e,me)=>(n(),i(A,{name:s(t).b("fade"),onBeforeLeave:e.onClose,onAfterLeave:ue=>e.$emit("destroy"),persisted:""},{default:d(()=>[x(k("div",{id:e.id,ref_key:"messageRef",ref:p,class:r([s(t).b(),{[s(t).m(e.type)]:e.type},s(t).is("center",e.center),s(t).is("closable",e.showClose),s(t).is("plain",e.plain),e.customClass]),style:ae(s(V)),role:"alert",onMouseenter:b,onMouseleave:f},[e.repeatNum>1?(n(),i(s(G),{key:0,value:e.repeatNum,type:s(O),class:r(s(t).e("badge"))},null,8,["value","type","class"])):u("v-if",!0),s(g)?(n(),i(s(h),{key:1,class:r([s(t).e("icon"),s(I)])},{default:d(()=>[(n(),i(se(s(g))))]),_:1},8,["class"])):u("v-if",!0),ee(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(n(),E(oe,{key:1},[u(" Caution here, message could've been compromised, never use user's input as message "),k("p",{class:r(s(t).e("content")),innerHTML:e.message},null,10,["innerHTML"])],2112)):(n(),E("p",{key:0,class:r(s(t).e("content"))},ne(e.message),3))]),e.showClose?(n(),i(s(h),{key:2,class:r(s(t).e("closeBtn")),onClick:F(m,["stop"])},{default:d(()=>[te(s(L))]),_:1},8,["class","onClick"])):u("v-if",!0)],46,["id"]),[[H,l.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var Me=J(le,[["__file","message.vue"]]);export{Me as M};
