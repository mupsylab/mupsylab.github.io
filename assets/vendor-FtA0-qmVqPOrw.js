import{i as b}from"./vendor-q6AE-BLgGtFJm.js";import{c as x}from"./vendor-sJES-T5Eo13Ui.js";const v=(e,s)=>{const d=e.toLowerCase();return(s.label||s.value).toLowerCase().includes(d)},C=(e,s,d)=>{const{selectionEnd:l}=e;if(l===null)return;const c=e.value,f=x(s);let o=-1,i;for(let t=l-1;t>=0;--t){const r=c[t];if(r===d||r===`
`||r==="\r"){o=t;continue}if(f.includes(r)){const n=o===-1?l:o;i={pattern:c.slice(t+1,n),start:t+1,end:n,prefix:r,prefixIndex:t,splitIndex:o,selectionEnd:l};break}}return i},w=(e,s={debug:!1,useSelectionEnd:!1})=>{const d=e.selectionStart!==null?e.selectionStart:0,l=e.selectionEnd!==null?e.selectionEnd:0,c=s.useSelectionEnd?l:d,f=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"];if(s.debug){const a=document.querySelector("#input-textarea-caret-position-mirror-div");a!=null&&a.parentNode&&a.parentNode.removeChild(a)}const o=document.createElement("div");o.id="input-textarea-caret-position-mirror-div",document.body.appendChild(o);const i=o.style,t=window.getComputedStyle(e),r=e.nodeName==="INPUT";i.whiteSpace=r?"nowrap":"pre-wrap",r||(i.wordWrap="break-word"),i.position="absolute",s.debug||(i.visibility="hidden"),f.forEach(a=>{if(r&&a==="lineHeight")if(t.boxSizing==="border-box"){const h=Number.parseInt(t.height),u=Number.parseInt(t.paddingTop)+Number.parseInt(t.paddingBottom)+Number.parseInt(t.borderTopWidth)+Number.parseInt(t.borderBottomWidth),g=u+Number.parseInt(t.lineHeight);h>g?i.lineHeight=`${h-u}px`:h===g?i.lineHeight=t.lineHeight:i.lineHeight="0"}else i.lineHeight=t.height;else i[a]=t[a]}),b()?e.scrollHeight>Number.parseInt(t.height)&&(i.overflowY="scroll"):i.overflow="hidden",o.textContent=e.value.slice(0,Math.max(0,c)),r&&o.textContent&&(o.textContent=o.textContent.replace(/\s/g,"Â "));const n=document.createElement("span");n.textContent=e.value.slice(Math.max(0,c))||".",n.style.position="relative",n.style.left=`${-e.scrollLeft}px`,n.style.top=`${-e.scrollTop}px`,o.appendChild(n);const p={top:n.offsetTop+Number.parseInt(t.borderTopWidth),left:n.offsetLeft+Number.parseInt(t.borderLeftWidth),height:Number.parseInt(t.fontSize)*1.5};return s.debug?n.style.backgroundColor="#aaa":document.body.removeChild(o),p.left>=e.clientWidth&&(p.left=e.clientWidth),p};export{C as a,v as f,w as g};
