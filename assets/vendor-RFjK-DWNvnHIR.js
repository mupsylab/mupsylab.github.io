import{C as f}from"./vendor-dYjT-DUUpC8n1.js";import{u as m}from"./vendor-nvnf-Dooudxnk.js";import{d as v}from"./vendor-7avT-DhdrFwTb.js";import{c as a,w as l}from"./vendor-RE7Z-DOm9JKld.js";const K=(t,h,i)=>{const r=m(t),o=a(()=>t.data.filter(e=>v(t.filterMethod)?t.filterMethod(h.query,e):String(e[r.value.label]||e[r.value.key]).toLowerCase().includes(h.query.toLowerCase()))),u=a(()=>o.value.filter(e=>!e[r.value.disabled])),g=a(()=>{const e=h.checked.length,c=t.data.length,{noChecked:s,hasChecked:n}=t.format;return s&&n?e>0?n.replace(/\${checked}/g,e.toString()).replace(/\${total}/g,c.toString()):s.replace(/\${total}/g,c.toString()):`${e}/${c}`}),y=a(()=>{const e=h.checked.length;return e>0&&e<u.value.length}),k=()=>{const e=u.value.map(c=>c[r.value.key]);h.allChecked=e.length>0&&e.every(c=>h.checked.includes(c))},C=e=>{h.checked=e?u.value.map(c=>c[r.value.key]):[]};return l(()=>h.checked,(e,c)=>{if(k(),h.checkChangeByUser){const s=e.concat(c).filter(n=>!e.includes(n)||!c.includes(n));i(f,e,s)}else i(f,e),h.checkChangeByUser=!0}),l(u,()=>{k()}),l(()=>t.data,()=>{const e=[],c=o.value.map(s=>s[r.value.key]);h.checked.forEach(s=>{c.includes(s)&&e.push(s)}),h.checkChangeByUser=!1,h.checked=e}),l(()=>t.defaultChecked,(e,c)=>{if(c&&e.length===c.length&&e.every(d=>c.includes(d)))return;const s=[],n=u.value.map(d=>d[r.value.key]);e.forEach(d=>{n.includes(d)&&s.push(d)}),h.checkChangeByUser=!1,h.checked=s},{immediate:!0}),{filteredData:o,checkableData:u,checkedSummary:g,isIndeterminate:y,updateAllChecked:k,handleAllCheckedChange:C}};export{K as u};
