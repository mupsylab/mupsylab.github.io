import{r as d}from"./vendor-8F4M-BzORa8vA.js";import{M as C}from"./vendor-5Gir-9g8R5fBn.js";import{c as g,h as u,j as h,d as i}from"./vendor-7avT-DhdrFwTb.js";import{b as f,a as M}from"./vendor-UUu6-BeUS1t8s.js";import{i as O}from"./vendor-k87t-DYFOtHqs.js";import{k as E,z as w}from"./vendor-RE7Z-DOm9JKld.js";import{m as b}from"./vendor-eqDO-Ti6p_k8X.js";const l=new Map,v=e=>{let s=document.body;return e.appendTo&&(g(e.appendTo)&&(s=document.querySelector(e.appendTo)),f(e.appendTo)&&(s=e.appendTo),f(s)||(s=document.body)),s},A=(e,s,t=null)=>{const c=w(C,e,i(e.message)||E(e.message)?{default:i(e.message)?e.message:()=>e.message}:null);return c.appContext=t,d(c,s),v(e).appendChild(s.firstElementChild),c.component},S=()=>document.createElement("div"),T=(e,s)=>{const t=S();e.onVanish=()=>{d(null,t),l.delete(a)},e.onAction=n=>{const m=l.get(a);let o;e.showInput?o={value:a.inputValue,action:n}:o=n,e.callback?e.callback(o,c.proxy):n==="cancel"||n==="close"?e.distinguishCancelAndClose&&n!=="cancel"?m.reject("close"):m.reject("cancel"):m.resolve(o)};const c=A(e,t,s),a=c.proxy;for(const n in e)u(e,n)&&!u(a.$props,n)&&(n==="closeIcon"&&h(e[n])?a[n]=b(e[n]):a[n]=e[n]);return a.visible=!0,a};function r(e,s=null){if(!O)return Promise.reject();let t;return g(e)||E(e)?e={message:e}:t=e.callback,new Promise((c,a)=>{const n=T(e,s??r._context);l.set(n,{options:e,callback:t,resolve:c,reject:a})})}const _=["alert","confirm","prompt"],k={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};_.forEach(e=>{r[e]=B(e)});function B(e){return(s,t,c,a)=>{let n="";return h(t)?(c=t,n=""):M(t)?n="":n=t,r(Object.assign({title:n,message:s,type:"",...k[e]},c,{boxType:e}),a)}}r.close=()=>{l.forEach((e,s)=>{s.doClose()}),l.clear()};r._context=null;export{r as M};
