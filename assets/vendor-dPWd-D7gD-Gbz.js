import{T as J}from"./vendor-U9nK-TG00rf2Z.js";import{t as Q}from"./vendor-rHzS-DSbzTMrA.js";import{s as X}from"./vendor-d3H7-Bc8-y7kj.js";import{H as Y}from"./vendor-tQo2-BpZClbVg.js";import{D as Z}from"./vendor-2Rpr-B5jJogiJ.js";import{F as O}from"./vendor-ZI4F-D5A2hC0R.js";import{j as ee}from"./vendor-7avT-DhdrFwTb.js";import{i as C}from"./vendor-UUu6-BeUS1t8s.js";import{d as oe,l as te,z as I,c as h,w as re,p as ae}from"./vendor-RE7Z-DOm9JKld.js";import{u as a,r as _}from"./vendor-eqDO-Ti6p_k8X.js";const le="ElTableV2Grid",ie=r=>{const i=_(),l=_(),n=_(0),m=h(()=>{const{data:e,rowHeight:o,estimatedRowHeight:t}=r;if(!t)return e.length*o}),c=h(()=>{const{fixedData:e,rowHeight:o}=r;return((e==null?void 0:e.length)||0)*o}),s=h(()=>X(r.headerHeight)),g=h(()=>{const{height:e}=r;return Math.max(0,e-a(s)-a(c))}),w=h(()=>a(s)+a(c)>0),v=({data:e,rowIndex:o})=>e[o][r.rowKey];function b({rowCacheStart:e,rowCacheEnd:o,rowVisibleStart:t,rowVisibleEnd:d}){var u;(u=r.onRowsRendered)==null||u.call(r,{rowCacheStart:e,rowCacheEnd:o,rowVisibleStart:t,rowVisibleEnd:d})}function H(e,o){var t;(t=l.value)==null||t.resetAfterRowIndex(e,o)}function T(e,o){const t=a(i),d=a(l);ee(e)?(t==null||t.scrollToLeft(e.scrollLeft),n.value=e.scrollLeft,d==null||d.scrollTo(e)):(t==null||t.scrollToLeft(e),n.value=e,d==null||d.scrollTo({scrollLeft:e,scrollTop:o}))}function R(e){var o;(o=a(l))==null||o.scrollTo({scrollTop:e})}function y(e,o){var t;(t=a(l))==null||t.scrollToItem(e,1,o)}function x(){var e,o;(e=a(l))==null||e.$forceUpdate(),(o=a(i))==null||o.$forceUpdate()}return re(()=>r.bodyWidth,()=>{var e;C(r.estimatedRowHeight)&&((e=l.value)==null||e.resetAfter({columnIndex:0},!1))}),{bodyRef:l,forceUpdate:x,fixedRowHeight:c,gridHeight:g,hasHeader:w,headerHeight:s,headerRef:i,totalHeight:m,itemKey:v,onItemRendered:b,resetAfterRowIndex:H,scrollTo:T,scrollToTop:R,scrollToRow:y,scrollLeft:n}},de=oe({name:le,props:Q,setup(r,{slots:i,expose:l}){const{ns:n}=te(J),{bodyRef:m,fixedRowHeight:c,gridHeight:s,hasHeader:g,headerRef:w,headerHeight:v,totalHeight:b,forceUpdate:H,itemKey:T,onItemRendered:R,resetAfterRowIndex:y,scrollTo:x,scrollToTop:e,scrollToRow:o,scrollLeft:t}=ie(r);ae("tableV2GridScrollLeft",t),l({forceUpdate:H,totalHeight:b,scrollTo:x,scrollToTop:e,scrollToRow:o,resetAfterRowIndex:y});const d=()=>r.bodyWidth;return()=>{const{cache:u,columns:S,data:f,fixedData:E,useIsScrolling:K,scrollbarAlwaysOn:M,scrollbarEndGap:N,scrollbarStartGap:V,style:j,rowHeight:D,bodyWidth:U,estimatedRowHeight:$,headerWidth:p,height:z,width:L,getRowHeight:F,onScroll:P}=r,G=C($),k=G?Z:O,q=a(v);return I("div",{role:"table",class:[n.e("table"),r.class],style:j},[I(k,{ref:m,data:f,useIsScrolling:K,itemKey:T,columnCache:0,columnWidth:G?d:U,totalColumn:1,totalRow:f.length,rowCache:u,rowHeight:G?F:D,width:L,height:a(s),class:n.e("body"),role:"rowgroup",scrollbarStartGap:V,scrollbarEndGap:N,scrollbarAlwaysOn:M,onScroll:P,onItemRendered:R,perfMode:!1},{default:A=>{var W;const B=f[A.rowIndex];return(W=i.row)==null?void 0:W.call(i,{...A,columns:S,rowData:B})}}),a(g)&&I(Y,{ref:w,class:n.e("header-wrapper"),columns:S,headerData:f,headerHeight:r.headerHeight,fixedHeaderData:E,rowWidth:p,rowHeight:D,width:L,height:Math.min(q+a(c),z)},{dynamic:i.header,fixed:i.row})])}}});var be=de;export{be as T};
