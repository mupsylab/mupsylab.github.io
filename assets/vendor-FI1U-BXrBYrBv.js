import{a as q,w as J}from"./vendor-8F4M-BzORa8vA.js";import{E as f}from"./vendor-AQSj-DFJim-ok.js";import{l as Q}from"./vendor-Fq1d-qefZ2EtI.js";import{s as X,a as Y}from"./vendor-xddA-caW9wfux.js";import{_ as Z}from"./vendor-pM4a-CqGSI99y.js";import{u as _,a as x}from"./vendor-eqCW-DCj8_tuZ.js";import{u as ee,a as ae}from"./vendor-hmuK-B6xHqdWm.js";import{u as ie}from"./vendor-unoq-CFxLHdLI.js";import{b as te}from"./vendor-7XBs-C2ZIZBcB.js";import{U as N,C as P,I as S}from"./vendor-lLeK-BB_Ol6Sd.js";import{d as se,t as oe}from"./vendor-0rdd-Cq9Fpw4b.js";import{n as c,t as I,a as ne,A}from"./vendor-7avT-DhdrFwTb.js";import{c as le}from"./vendor-UUu6-BeUS1t8s.js";import{d as K,c as u,w as B,e as re,a as v,o as i,b as w,C as l,f as r,h as m,i as p,r as D,z as ce,t as ue}from"./vendor-RE7Z-DOm9JKld.js";import{r as V,u as a}from"./vendor-eqDO-Ti6p_k8X.js";const z="ElSwitch",ve=K({name:z}),de=K({...ve,props:Y,emits:X,setup(M,{expose:O,emit:d}){const s=M,{formItem:k}=_(),F=ee(),t=ie("switch"),{inputId:U}=x(s,{formItemContext:k}),b=ae(u(()=>s.loading)),C=V(s.modelValue!==!1),h=V(),L=V(),$=u(()=>[t.b(),t.m(F.value),t.is("disabled",b.value),t.is("checked",o.value)]),G=u(()=>[t.e("label"),t.em("label","left"),t.is("active",!o.value)]),H=u(()=>[t.e("label"),t.em("label","right"),t.is("active",o.value)]),R=u(()=>({width:te(s.width)}));B(()=>s.modelValue,()=>{C.value=!0});const E=u(()=>C.value?s.modelValue:!1),o=u(()=>E.value===s.activeValue);[s.activeValue,s.inactiveValue].includes(E.value)||(d(N,s.inactiveValue),d(P,s.inactiveValue),d(S,s.inactiveValue)),B(o,e=>{var n;h.value.checked=e,s.validateEvent&&((n=k==null?void 0:k.validate)==null||n.call(k,"change").catch(j=>se()))});const y=()=>{const e=o.value?s.inactiveValue:s.activeValue;d(N,e),d(P,e),d(S,e),ue(()=>{h.value.checked=o.value})},T=()=>{if(b.value)return;const{beforeChange:e}=s;if(!e){y();return}const n=e();[A(n),le(n)].includes(!0)||oe(z,"beforeChange must return type `Promise<boolean>` or `boolean`"),A(n)?n.then(g=>{g&&y()}).catch(g=>{}):n&&y()},W=()=>{var e,n;(n=(e=h.value)==null?void 0:e.focus)==null||n.call(e)};return re(()=>{h.value.checked=o.value}),O({focus:W,checked:o}),(e,n)=>(i(),v("div",{class:c(a($)),onClick:J(T,["prevent"])},[w("input",{id:a(U),ref_key:"input",ref:h,class:c(a(t).e("input")),type:"checkbox",role:"switch","aria-checked":a(o),"aria-disabled":a(b),"aria-label":e.ariaLabel,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:a(b),tabindex:e.tabindex,onChange:y,onKeydown:q(T,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText)?(i(),v("span",{key:0,class:c(a(G))},[e.inactiveIcon?(i(),r(a(f),{key:0},{default:m(()=>[(i(),r(p(e.inactiveIcon)))]),_:1})):l("v-if",!0),!e.inactiveIcon&&e.inactiveText?(i(),v("span",{key:1,"aria-hidden":a(o)},I(e.inactiveText),9,["aria-hidden"])):l("v-if",!0)],2)):l("v-if",!0),w("span",{ref_key:"core",ref:L,class:c(a(t).e("core")),style:ne(a(R))},[e.inlinePrompt?(i(),v("div",{key:0,class:c(a(t).e("inner"))},[e.activeIcon||e.inactiveIcon?(i(),r(a(f),{key:0,class:c(a(t).is("icon"))},{default:m(()=>[(i(),r(p(a(o)?e.activeIcon:e.inactiveIcon)))]),_:1},8,["class"])):e.activeText||e.inactiveText?(i(),v("span",{key:1,class:c(a(t).is("text")),"aria-hidden":!a(o)},I(a(o)?e.activeText:e.inactiveText),11,["aria-hidden"])):l("v-if",!0)],2)):l("v-if",!0),w("div",{class:c(a(t).e("action"))},[e.loading?(i(),r(a(f),{key:0,class:c(a(t).is("loading"))},{default:m(()=>[ce(a(Q))]),_:1},8,["class"])):a(o)?D(e.$slots,"active-action",{key:1},()=>[e.activeActionIcon?(i(),r(a(f),{key:0},{default:m(()=>[(i(),r(p(e.activeActionIcon)))]),_:1})):l("v-if",!0)]):a(o)?l("v-if",!0):D(e.$slots,"inactive-action",{key:2},()=>[e.inactiveActionIcon?(i(),r(a(f),{key:0},{default:m(()=>[(i(),r(p(e.inactiveActionIcon)))]),_:1})):l("v-if",!0)])],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText)?(i(),v("span",{key:1,class:c(a(H))},[e.activeIcon?(i(),r(a(f),{key:0},{default:m(()=>[(i(),r(p(e.activeIcon)))]),_:1})):l("v-if",!0),!e.activeIcon&&e.activeText?(i(),v("span",{key:1,"aria-hidden":!a(o)},I(e.activeText),9,["aria-hidden"])):l("v-if",!0)],2)):l("v-if",!0)],10,["onClick"]))}});var Pe=Z(de,[["__file","switch.vue"]]);export{Pe as S};
