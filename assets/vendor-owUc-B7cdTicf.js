import{a as i}from"./vendor-8jHm-DXstvPfe.js";import{i as d}from"./vendor-X8wK-D6OXYL3N.js";import{r as v,u as m}from"./vendor-eqDO-Ti6p_k8X.js";import{g as R}from"./vendor-RE7Z-DOm9JKld.js";function I(s){const r=R(),l=v(null),t=v(null),f=e=>{r.store.assertRowKey(),l.value=e,o(e)},c=()=>{l.value=null},o=e=>{const{data:n,rowKey:u}=s;let a=null;u.value&&(a=(m(n)||[]).find(w=>i(w,u.value)===e)),t.value=a,r.emit("current-change",t.value,null)};return{setCurrentRowKey:f,restoreCurrentRowKey:c,setCurrentRowByKey:o,updateCurrentRow:e=>{const n=t.value;if(e&&e!==n){t.value=e,r.emit("current-change",t.value,n);return}!e&&n&&(t.value=null,r.emit("current-change",null,n))},updateCurrentRowData:()=>{const e=s.rowKey.value,n=s.data.value||[],u=t.value;if(!n.includes(u)&&u){if(e){const a=i(u,e);o(a)}else t.value=null;d(t.value)&&r.emit("current-change",null,u)}else l.value&&(o(l.value),c())},states:{_currentRowKey:l,currentRow:t}}}export{I as u};
