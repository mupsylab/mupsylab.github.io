import{a as P}from"./vendor-clQw-JAUZZBS7.js";import{f as j,a as x}from"./vendor-e8G5-BGjmqEaC.js";import{u as M,f as l}from"./vendor-6trt-CHGPBagN.js";import{_ as N}from"./vendor-pM4a-CqGSI99y.js";import{u as S}from"./vendor-hmuK-B6xHqdWm.js";import{u as T}from"./vendor-unoq-CFxLHdLI.js";import{d as z}from"./vendor-0rdd-Cq9Fpw4b.js";import{n as $,d as B}from"./vendor-7avT-DhdrFwTb.js";import{d as h,c as p,w as I,p as R,a as W,o as A,r as K}from"./vendor-RE7Z-DOm9JKld.js";import{a as L,t as k,u as q}from"./vendor-eqDO-Ti6p_k8X.js";const D="ElForm",G=h({name:D}),H=h({...G,props:x,emits:j,setup(v,{expose:F,emit:_}){const i=v,o=[],w=S(),n=T("form"),E=p(()=>{const{labelPosition:e,inline:t}=i;return[n.b(),n.m(w.value||"default"),{[n.m(`label-${e}`)]:e,[n.m("inline")]:t}]}),y=e=>o.find(t=>t.prop===e),g=e=>{o.push(e)},O=e=>{e.prop&&o.splice(o.indexOf(e),1)},c=(e=[])=>{i.model&&l(o,e).forEach(t=>t.resetField())},d=(e=[])=>{l(o,e).forEach(t=>t.clearValidate())},V=p(()=>!!i.model),C=e=>{if(o.length===0)return[];const t=l(o,e);return t.length?t:[]},m=async e=>f(void 0,e),b=async(e=[])=>{if(!V.value)return!1;const t=C(e);if(t.length===0)return!0;let s={};for(const r of t)try{await r.validate(""),r.validateState==="error"&&r.resetField()}catch(a){s={...s,...a}}return Object.keys(s).length===0?!0:Promise.reject(s)},f=async(e=[],t)=>{const s=!B(t);try{const r=await b(e);return r===!0&&await(t==null?void 0:t(r)),r}catch(r){if(r instanceof Error)throw r;const a=r;return i.scrollToError&&u(Object.keys(a)[0]),await(t==null?void 0:t(!1,a)),s&&Promise.reject(a)}},u=e=>{var t;const s=l(o,e)[0];s&&((t=s.$el)==null||t.scrollIntoView(i.scrollIntoViewOptions))};return I(()=>i.rules,()=>{i.validateOnRuleChange&&m().catch(e=>z())},{deep:!0,flush:"post"}),R(P,L({...k(i),emit:_,resetFields:c,clearValidate:d,validateField:f,getField:y,addField:g,removeField:O,...M()})),F({validate:m,validateField:f,resetFields:c,clearValidate:d,scrollToField:u,fields:o}),(e,t)=>(A(),W("form",{class:$(q(E))},[K(e.$slots,"default")],2))}});var se=N(H,[["__file","form.vue"]]);export{se as F};
