import{u as N}from"./vendor-3lLS-CtPjs864.js";import{u as S}from"./vendor-Av2w-53qXiP8M.js";import{u as E}from"./vendor-9Byw-aJtbE-z4.js";import{u as Z}from"./vendor-sC5d-B-dxDEiz.js";import{d as g}from"./vendor-unoq-CFxLHdLI.js";import{b as q}from"./vendor-7XBs-C2ZIZBcB.js";import{U as G}from"./vendor-lLeK-BB_Ol6Sd.js";import{i as j}from"./vendor-TeQm-DCTLXrZ8.js";import{u as T,i as B}from"./vendor-k87t-DYFOtHqs.js";import{g as H,c as b,w as h,t as J,e as K}from"./vendor-RE7Z-DOm9JKld.js";import{r as c}from"./vendor-eqDO-Ti6p_k8X.js";const ie=(e,l)=>{var y;const n=H().emit,{nextZIndex:C}=S();let D="";const F=E(),O=E(),t=c(!1),f=c(!1),u=c(!1),r=c((y=e.zIndex)!=null?y:C());let i,s;const k=Z("namespace",g),w=b(()=>{const o={},a=`--${k.value}-dialog`;return e.fullscreen||(e.top&&(o[`${a}-margin-top`]=e.top),e.width&&(o[`${a}-width`]=q(e.width))),o}),A=b(()=>e.alignCenter?{display:"flex"}:{});function L(){n("opened")}function P(){n("closed"),n(G,!1),e.destroyOnClose&&(u.value=!1)}function M(){n("close")}function x(){s==null||s(),i==null||i(),e.openDelay&&e.openDelay>0?{stop:i}=T(()=>I(),e.openDelay):I()}function d(){i==null||i(),s==null||s(),e.closeDelay&&e.closeDelay>0?{stop:s}=T(()=>v(),e.closeDelay):v()}function m(){function o(a){a||(f.value=!0,t.value=!1)}e.beforeClose?e.beforeClose(o):d()}function U(){e.closeOnClickModal&&m()}function I(){B&&(t.value=!0)}function v(){t.value=!1}function _(){n("openAutoFocus")}function z(){n("closeAutoFocus")}function V(o){var a;((a=o.detail)==null?void 0:a.focusReason)==="pointer"&&o.preventDefault()}e.lockScroll&&N(t);function $(){e.closeOnPressEscape&&m()}return h(()=>e.modelValue,o=>{o?(f.value=!1,x(),u.value=!0,r.value=j(e.zIndex)?C():r.value++,J(()=>{n("open"),l.value&&(l.value.parentElement.scrollTop=0,l.value.parentElement.scrollLeft=0,l.value.scrollTop=0)})):t.value&&d()}),h(()=>e.fullscreen,o=>{l.value&&(o?(D=l.value.style.transform,l.value.style.transform=""):l.value.style.transform=D)}),K(()=>{e.modelValue&&(t.value=!0,u.value=!0,x())}),{afterEnter:L,afterLeave:P,beforeLeave:M,handleClose:m,onModalClick:U,close:d,doClose:v,onOpenAutoFocus:_,onCloseAutoFocus:z,onCloseRequested:$,onFocusoutPrevented:V,titleId:F,bodyId:O,closed:f,style:w,overlayDialogStyle:A,rendered:u,visible:t,zIndex:r}};export{ie as u};
