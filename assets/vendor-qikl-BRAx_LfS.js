import{d as H}from"./vendor-yc09-K6vCfYh1.js";import{g as x}from"./vendor-aqi2-CgBKjudC.js";import{u as y}from"./vendor-cebD-BGFhTQCu.js";import{E as p}from"./vendor-bP7i-BUADUvnR.js";import{u as D}from"./vendor-unoq-CFxLHdLI.js";import{b as W}from"./vendor-7XBs-C2ZIZBcB.js";import{s as $,r as k}from"./vendor-eqDO-Ti6p_k8X.js";import{c as s,e as E,w as K,g as L}from"./vendor-RE7Z-DOm9JKld.js";const Y=t=>{const d=L(),{t:u}=y(),a=$(),h=$(),i=s(()=>t.color.get("alpha")),v=s(()=>u("el.colorpicker.alphaLabel"));function m(o){var e;o.target!==a.value&&g(o),(e=a.value)==null||e.focus()}function g(o){if(!h.value||!a.value)return;const n=d.vnode.el.getBoundingClientRect(),{clientX:f,clientY:w}=x(o);if(t.vertical){let l=w-n.top;l=Math.max(a.value.offsetHeight/2,l),l=Math.min(l,n.height-a.value.offsetHeight/2),t.color.set("alpha",Math.round((l-a.value.offsetHeight/2)/(n.height-a.value.offsetHeight)*100))}else{let l=f-n.left;l=Math.max(a.value.offsetWidth/2,l),l=Math.min(l,n.width-a.value.offsetWidth/2),t.color.set("alpha",Math.round((l-a.value.offsetWidth/2)/(n.width-a.value.offsetWidth)*100))}}function M(o){const{code:e,shiftKey:n}=o,f=n?10:1;switch(e){case p.left:case p.down:o.preventDefault(),o.stopPropagation(),b(-f);break;case p.right:case p.up:o.preventDefault(),o.stopPropagation(),b(f);break}}function b(o){let e=i.value+o;e=e<0?0:e>100?100:e,t.color.set("alpha",e)}return{thumb:a,bar:h,alpha:i,alphaLabel:v,handleDrag:g,handleClick:m,handleKeydown:M}},_=(t,{bar:d,thumb:u,handleDrag:a})=>{const h=L(),i=D("color-alpha-slider"),v=k(0),m=k(0),g=k();function M(){if(!u.value||t.vertical)return 0;const r=h.vnode.el,c=t.color.get("alpha");return r?Math.round(c*(r.offsetWidth-u.value.offsetWidth/2)/100):0}function b(){if(!u.value)return 0;const r=h.vnode.el;if(!t.vertical)return 0;const c=t.color.get("alpha");return r?Math.round(c*(r.offsetHeight-u.value.offsetHeight/2)/100):0}function o(){if(t.color&&t.color.value){const{r,g:c,b:C}=t.color.toRgb();return`linear-gradient(to right, rgba(${r}, ${c}, ${C}, 0) 0%, rgba(${r}, ${c}, ${C}, 1) 100%)`}return""}function e(){v.value=M(),m.value=b(),g.value=o()}E(()=>{if(!d.value||!u.value)return;const r={drag:c=>{a(c)},end:c=>{a(c)}};H(d.value,r),H(u.value,r),e()}),K(()=>t.color.get("alpha"),()=>e()),K(()=>t.color.value,()=>e());const n=s(()=>[i.b(),i.is("vertical",t.vertical)]),f=s(()=>i.e("bar")),w=s(()=>i.e("thumb")),l=s(()=>({background:g.value})),T=s(()=>({left:W(v.value),top:W(m.value)}));return{rootKls:n,barKls:f,barStyle:l,thumbKls:w,thumbStyle:T,update:e}};export{_ as a,Y as u};
