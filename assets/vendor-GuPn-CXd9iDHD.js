import{d as R,e as T,a as W}from"./vendor-5WKb-KWd2YoVw.js";import{a as I,b as P}from"./vendor-Lokl-DrUpyJkl.js";import{_ as q}from"./vendor-pM4a-CqGSI99y.js";import{u as L}from"./vendor-unoq-CFxLHdLI.js";import{a as U}from"./vendor-HWBx-H0iAIG7V.js";import{b as V}from"./vendor-7XBs-C2ZIZBcB.js";import{t as Y}from"./vendor-0rdd-Cq9Fpw4b.js";import{d as C,c as $,w as j,e as D,m as F,a as G,o as J,b as K,r as Q}from"./vendor-RE7Z-DOm9JKld.js";import{a as z,n as B}from"./vendor-7avT-DhdrFwTb.js";import{s as d,r as h,u as f}from"./vendor-eqDO-Ti6p_k8X.js";const N="ElAffix",X=C({name:N}),Z=C({...X,props:P,emits:I,setup(A,{expose:k,emit:x}){const o=A,g=L("affix"),r=d(),c=d(),a=d(),{height:n}=R(),{height:m,width:_,top:w,bottom:E,update:v}=T(c,{windowScroll:!1}),u=T(r),t=h(!1),b=h(0),i=h(0),H=$(()=>({height:t.value?`${m.value}px`:"",width:t.value?`${_.value}px`:""})),M=$(()=>{if(!t.value)return{};const e=o.offset?V(o.offset):0;return{height:`${m.value}px`,width:`${_.value}px`,top:o.position==="top"?e:"",bottom:o.position==="bottom"?e:"",transform:i.value?`translateY(${i.value}px)`:"",zIndex:o.zIndex}}),S=()=>{if(!a.value)return;b.value=a.value instanceof Window?document.documentElement.scrollTop:a.value.scrollTop||0;const{position:e,target:p,offset:s}=o,y=s+m.value;if(e==="top")if(p){const l=u.bottom.value-y;t.value=s>w.value&&u.bottom.value>0,i.value=l<0?l:0}else t.value=s>w.value;else if(p){const l=n.value-u.top.value-y;t.value=n.value-s<E.value&&n.value>u.top.value,i.value=l<0?-l:0}else t.value=n.value-s<E.value},O=()=>{v(),x("scroll",{scrollTop:b.value,fixed:t.value})};return j(t,e=>x("change",e)),D(()=>{var e;o.target?(r.value=(e=document.querySelector(o.target))!=null?e:void 0,r.value||Y(N,`Target does not exist: ${o.target}`)):r.value=document.documentElement,a.value=U(c.value,!0),v()}),W(a,"scroll",O),F(S),k({update:S,updateRoot:v}),(e,p)=>(J(),G("div",{ref_key:"root",ref:c,class:B(f(g).b()),style:z(f(H))},[K("div",{class:B({[f(g).m("fixed")]:t.value}),style:z(f(M))},[Q(e.$slots,"default")],6)],6))}});var fe=q(Z,[["__file","affix.vue"]]);export{fe as A};
