import{d as F,t as H,c as S,g as U}from"./vendor-8Pjl-C0VnOa-J.js";import{e as j,f as M}from"./vendor-8jHm-DXstvPfe.js";import{u as V}from"./vendor-unoq-CFxLHdLI.js";import{a as g}from"./vendor-UUu6-BeUS1t8s.js";import{i as y}from"./vendor-7avT-DhdrFwTb.js";import{r as d,u as b}from"./vendor-eqDO-Ti6p_k8X.js";import{m as x,c as W,g as _,r as I,n as w,U as q}from"./vendor-RE7Z-DOm9JKld.js";function te(n,l,m){const i=_(),N=d(""),P=d(!1),o=d(),h=d(),p=V("table");x(()=>{o.value=n.align?`is-${n.align}`:null,o.value}),x(()=>{h.value=n.headerAlign?`is-${n.headerAlign}`:o.value,h.value});const $=W(()=>{let e=i.vnode.vParent||i.parent;for(;e&&!e.tableId&&!e.columnId;)e=e.vnode.vParent||e.parent;return e}),E=W(()=>{const{store:e}=i.parent;if(!e)return!1;const{treeData:r}=e.states,t=r.value;return t&&Object.keys(t).length>0}),v=d(j(n.width)),C=d(M(n.minWidth)),O=e=>(v.value&&(e.width=v.value),C.value&&(e.minWidth=C.value),!v.value&&C.value&&(e.width=void 0),e.minWidth||(e.minWidth=80),e.realWidth=Number(g(e.width)?e.minWidth:e.width),e),A=e=>{const r=e.type,t=S[r]||{};Object.keys(t).forEach(s=>{const u=t[s];s!=="className"&&!g(u)&&(e[s]=u)});const a=U(r);if(a){const s=`${b(p.namespace)}-${a}`;e.className=e.className?`${e.className} ${s}`:s}return e},D=e=>{y(e)?e.forEach(t=>r(t)):r(e);function r(t){var a;((a=t==null?void 0:t.type)==null?void 0:a.name)==="ElTableColumn"&&(t.vParent=i)}};return{columnId:N,realAlign:o,isSubColumn:P,realHeaderAlign:h,columnOrTableParent:$,setColumnWidth:O,setColumnForcedProps:A,setColumnRenders:e=>{n.renderHeader||e.type!=="selection"&&(e.renderHeader=t=>(i.columnConfig.value.label,I(l,"header",t,()=>[e.label]))),l["filter-icon"]&&(e.renderFilterIcon=t=>I(l,"filter-icon",t));let r=e.renderCell;return e.type==="expand"?(e.renderCell=t=>w("div",{class:"cell"},[r(t)]),m.value.renderExpanded=t=>l.default?l.default(t):l.default):(r=r||F,e.renderCell=t=>{let a=null;if(l.default){const f=l.default(t);a=f.some(k=>k.type!==q)?f:r(t)}else a=r(t);const{columns:s}=m.value.store.states,u=s.value.findIndex(f=>f.type==="default"),R=E.value&&t.cellIndex===u,T=H(t,R),c={class:"cell",style:{}};return e.showOverflowTooltip&&(c.class=`${c.class} ${b(p.namespace)}-tooltip`,c.style={width:`${(t.column.realWidth||Number(t.column.width))-1}px`}),D(a),w("div",c,[T,a])}),e},getPropsData:(...e)=>e.reduce((r,t)=>(y(t)&&t.forEach(a=>{r[a]=n[a]}),r),{}),getColumnElIndex:(e,r)=>Array.prototype.indexOf.call(e,r),updateColumnOrder:()=>{m.value.store.commit("updateColumnOrder",i.columnConfig.value)}}}export{te as u};
