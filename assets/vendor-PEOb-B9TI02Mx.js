import{d as f}from"./vendor-v13v-B_uL0f_K.js";import{i as F,j as U}from"./vendor-Fq1d-qefZ2EtI.js";import{E as B}from"./vendor-AQSj-DFJim-ok.js";import{p as fe,a as pe}from"./vendor-XFF5-CX6zB8WJ.js";import{u as me}from"./vendor-WnDL-DvoJjpg4.js";import{u as ge}from"./vendor-Enui-Qgph-Kz5.js";import{i as H}from"./vendor-4YxN-Ca0MF-br.js";import{R as be}from"./vendor-Jbuz-MYVh4dOV.js";import{Y as J}from"./vendor-a9CY-Dl22rXTW.js";import{_ as he}from"./vendor-pM4a-CqGSI99y.js";import{u as ke}from"./vendor-cebD-BGFhTQCu.js";import{u as Ce}from"./vendor-unoq-CFxLHdLI.js";import{n,t as L,i as I}from"./vendor-7avT-DhdrFwTb.js";import{d as Q,l as q,c as D,u as ye,w as G,a as g,o as b,b as i,r as P,C as A,F as _e,D as De,z as u,h as N}from"./vendor-RE7Z-DOm9JKld.js";import{r as Y,b as K,u as a}from"./vendor-eqDO-Ti6p_k8X.js";const M="year",Pe=Q({name:"DatePickerYearRange"}),Ye=Q({...Pe,props:pe,emits:fe,setup(W,{emit:c}){const h=W,{lang:k}=ke(),d=Y(f().locale(k.value)),v=Y(d.value.add(10,"year")),{pickerNs:l}=q(be),C=Ce("date-range-picker"),$=D(()=>!!z.length),X=D(()=>[l.b(),C.b(),{"has-sidebar":!!ye().sidebar||$.value}]),S=D(()=>({content:[l.e("content"),C.e("content"),"is-left"],arrowLeftBtn:[l.e("icon-btn"),"d-arrow-left"],arrowRightBtn:[l.e("icon-btn"),{[l.is("disabled")]:!R.value},"d-arrow-right"]})),x=D(()=>({content:[l.e("content"),C.e("content"),"is-right"],arrowLeftBtn:[l.e("icon-btn"),{"is-disabled":!R.value},"d-arrow-left"],arrowRightBtn:[l.e("icon-btn"),"d-arrow-right"]})),Z=me(k),{leftPrevYear:ee,rightNextYear:ae,leftNextYear:te,rightPrevYear:ne,leftLabel:le,rightLabel:re,leftYear:se,rightYear:oe}=ge({unlinkPanels:K(h,"unlinkPanels"),leftDate:d,rightDate:v}),R=D(()=>h.unlinkPanels&&oe.value>se.value+1),s=Y(),r=Y(),y=Y({endDate:null,selecting:!1}),T=e=>{y.value=e},j=(e,t=!0)=>{const o=e.minDate,m=e.maxDate;r.value===m&&s.value===o||(c("calendar-change",[o.toDate(),m&&m.toDate()]),r.value=m,s.value=o,t&&ie())},ie=(e=!1)=>{H([s.value,r.value])&&c("pick",[s.value,r.value],e)},O=e=>{y.value.selecting=e,e||(y.value.endDate=null)},E=q("EP_PICKER_BASE"),{shortcuts:z,disabledDate:_}=E.props,w=K(E.props,"format"),p=K(E.props,"defaultValue"),V=()=>{let e;if(I(p.value)){const t=f(p.value[0]);let o=f(p.value[1]);return h.unlinkPanels||(o=t.add(10,M)),[t,o]}else p.value?e=f(p.value):e=f();return e=e.locale(k.value),[e,e.add(10,M)]};G(()=>p.value,e=>{if(e){const t=V();d.value=t[0],v.value=t[1]}},{immediate:!0}),G(()=>h.parsedValue,e=>{if(e&&e.length===2)if(s.value=e[0],r.value=e[1],d.value=s.value,h.unlinkPanels&&r.value){const t=s.value.year(),o=r.value.year();v.value=t===o?r.value.add(10,"year"):r.value}else v.value=d.value.add(10,"year");else{const t=V();s.value=void 0,r.value=void 0,d.value=t[0],v.value=t[1]}},{immediate:!0});const ue=e=>I(e)?e.map(t=>f(t,w.value).locale(k.value)):f(e,w.value).locale(k.value),de=e=>I(e)?e.map(t=>t.format(w.value)):e.format(w.value),ce=e=>H(e)&&(_?!_(e[0].toDate())&&!_(e[1].toDate()):!0),ve=()=>{const e=V();d.value=e[0],v.value=e[1],r.value=void 0,s.value=void 0,c("pick",null)};return c("set-picker-option",["isValidValue",ce]),c("set-picker-option",["parseUserInput",ue]),c("set-picker-option",["formatToString",de]),c("set-picker-option",["handleClear",ve]),(e,t)=>(b(),g("div",{class:n(a(X))},[i("div",{class:n(a(l).e("body-wrapper"))},[P(e.$slots,"sidebar",{class:n(a(l).e("sidebar"))}),a($)?(b(),g("div",{key:0,class:n(a(l).e("sidebar"))},[(b(!0),g(_e,null,De(a(z),(o,m)=>(b(),g("button",{key:m,type:"button",class:n(a(l).e("shortcut")),onClick:Re=>a(Z)(o)},L(o.text),11,["onClick"]))),128))],2)):A("v-if",!0),i("div",{class:n(a(l).e("body"))},[i("div",{class:n(a(S).content)},[i("div",{class:n(a(C).e("header"))},[i("button",{type:"button",class:n(a(S).arrowLeftBtn),onClick:a(ee)},[P(e.$slots,"prev-year",{},()=>[u(a(B),null,{default:N(()=>[u(a(F))]),_:1})])],10,["onClick"]),e.unlinkPanels?(b(),g("button",{key:0,type:"button",disabled:!a(R),class:n(a(S).arrowRightBtn),onClick:a(te)},[P(e.$slots,"next-year",{},()=>[u(a(B),null,{default:N(()=>[u(a(U))]),_:1})])],10,["disabled","onClick"])):A("v-if",!0),i("div",null,L(a(le)),1)],2),u(J,{"selection-mode":"range",date:d.value,"min-date":s.value,"max-date":r.value,"range-state":y.value,"disabled-date":a(_),onChangerange:T,onPick:j,onSelect:O},null,8,["date","min-date","max-date","range-state","disabled-date"])],2),i("div",{class:n(a(x).content)},[i("div",{class:n(a(C).e("header"))},[e.unlinkPanels?(b(),g("button",{key:0,type:"button",disabled:!a(R),class:n(a(x).arrowLeftBtn),onClick:a(ne)},[P(e.$slots,"prev-year",{},()=>[u(a(B),null,{default:N(()=>[u(a(F))]),_:1})])],10,["disabled","onClick"])):A("v-if",!0),i("button",{type:"button",class:n(a(x).arrowRightBtn),onClick:a(ae)},[P(e.$slots,"next-year",{},()=>[u(a(B),null,{default:N(()=>[u(a(U))]),_:1})])],10,["onClick"]),i("div",null,L(a(re)),1)],2),u(J,{"selection-mode":"range",date:v.value,"min-date":s.value,"max-date":r.value,"range-state":y.value,"disabled-date":a(_),onChangerange:T,onPick:j,onSelect:O},null,8,["date","min-date","max-date","range-state","disabled-date"])],2)],2)],2)],2))}});var ze=he(Ye,[["__file","panel-year-range.vue"]]);export{ze as Y};
