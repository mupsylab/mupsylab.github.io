import{r as x}from"./vendor-8F4M-BzORa8vA.js";import{E as _}from"./vendor-NFpn-BrHihosC.js";import{h as I,c as v,d as $,i as h,j as L}from"./vendor-7avT-DhdrFwTb.js";import{t as j}from"./vendor-0rdd-Cq9Fpw4b.js";import{a as N,i as q,c as H}from"./vendor-UUu6-BeUS1t8s.js";import{g as M}from"./vendor-X8P5-CF3LkWx9.js";import{i as U}from"./vendor-X8wK-D6OXYL3N.js";import{m as y}from"./vendor-W9GH-DUAmleCu.js";import{f as z}from"./vendor-1TwM-AE0z2sB5.js";import{g as k}from"./vendor-sXNC-Da9ghdLI.js";import{z as D,k as G}from"./vendor-RE7Z-DOm9JKld.js";const en=function(n){var e;return(e=n.target)==null?void 0:e.closest("td")},on=function(n,e,o,t,i){if(!e&&!t&&(!i||h(i)&&!i.length))return n;v(o)?o=o==="descending"?-1:1:o=o&&o<0?-1:1;const c=t?null:function(r,u){return i?(h(i)||(i=[i]),i.map(s=>v(s)?k(r,s):s(r,u,n))):(e!=="$key"&&L(r)&&"$value"in r&&(r=r.$value),[L(r)?k(r,e):r])},l=function(r,u){if(t)return t(r.value,u.value);for(let s=0,f=r.key.length;s<f;s++){if(r.key[s]<u.key[s])return-1;if(r.key[s]>u.key[s])return 1}return 0};return n.map((r,u)=>({value:r,index:u,key:c?c(r,u):null})).sort((r,u)=>{let s=l(r,u);return s||(s=r.index-u.index),s*+o}).map(r=>r.value)},J=function(n,e){let o=null;return n.columns.forEach(t=>{t.id===e&&(o=t)}),o},rn=function(n,e){let o=null;for(let t=0;t<n.columns.length;t++){const i=n.columns[t];if(i.columnKey===e){o=i;break}}return o||j("ElTable",`No column matching with column-key: ${e}`),o},ln=function(n,e,o){const t=(e.className||"").match(new RegExp(`${o}-table_[^\\s]+`,"gm"));return t?J(n,t[0]):null},Q=(n,e)=>{if(!n)throw new Error("Row is required when get row identity");if(v(e)){if(!e.includes("."))return`${n[e]}`;const o=e.split(".");let t=n;for(const i of o)t=t[i];return`${t}`}else if($(e))return e.call(null,n)},sn=function(n,e){const o={};return(n||[]).forEach((t,i)=>{o[Q(t,e)]={row:t,index:i}}),o};function un(n,e){const o={};let t;for(t in n)o[t]=n[t];for(t in e)if(I(e,t)){const i=e[t];N(i)||(o[t]=i)}return o}function T(n){return n===""||N(n)||(n=Number.parseInt(n,10),Number.isNaN(n)&&(n="")),n}function cn(n){return n===""||N(n)||(n=T(n),Number.isNaN(n)&&(n=80)),n}function fn(n){return q(n)?n:v(n)?/^\d+(?:px)?$/.test(n)?Number.parseInt(n,10):n:null}function an(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,o)=>(...t)=>e(o(...t)))}function X(n,e,o,t,i,c){let l=c??0,r=!1;const u=n.indexOf(e),s=u!==-1,f=i==null?void 0:i.call(null,e,l),p=d=>{d==="add"?n.push(e):n.splice(u,1),r=!0},m=d=>{let g=0;const C=(t==null?void 0:t.children)&&d[t.children];return C&&h(C)&&(g+=C.length,C.forEach(R=>{g+=m(R)})),g};return(!i||f)&&(H(o)?o&&!s?p("add"):!o&&s&&p("remove"):p(s?"remove":"add")),!(t!=null&&t.checkStrictly)&&(t!=null&&t.children)&&h(e[t.children])&&e[t.children].forEach(d=>{const g=X(n,d,o??!s,t,i,l+1);l+=m(d)+1,g&&(r=g)}),r}function dn(n,e,o="children",t="hasChildren"){const i=l=>!(h(l)&&l.length);function c(l,r,u){e(l,r,u),r.forEach(s=>{if(s[t]){e(s,null,u+1);return}const f=s[o];i(f)||c(s,f,u+1)})}n.forEach(l=>{if(l[t]){e(l,null,0);return}const r=l[o];i(r)||c(l,r,0)})}const Y=(n,e,o,t)=>{const i={strategy:"fixed",...n.popperOptions},c=$(t.tooltipFormatter)?t.tooltipFormatter({row:o,column:t,cellValue:M(o,t.property).value}):void 0;return G(c)?{slotContent:c,content:null,...n,popperOptions:i}:{slotContent:null,content:c??e,...n,popperOptions:i}};let a=null;function pn(n,e,o,t,i,c){const l=Y(n,e,o,t),r={...l,slotContent:void 0};if((a==null?void 0:a.trigger)===i){const d=a.vm.component;y(d.props,r),l.slotContent&&(d.slots.content=()=>[l.slotContent]);return}a==null||a();const u=c==null?void 0:c.refs.tableWrapper,s=u==null?void 0:u.dataset.prefix,f=D(_,{virtualTriggering:!0,virtualRef:i,appendTo:u,placement:"top",transition:"none",offset:0,hideAfter:0,...r},l.slotContent?{content:()=>l.slotContent}:void 0);f.appContext={...c.appContext,...c};const p=document.createElement("div");x(f,p),f.component.exposed.onOpen();const m=u==null?void 0:u.querySelector(`.${s}-scrollbar__wrap`);a=()=>{x(null,p),m==null||m.removeEventListener("scroll",a),a=null},a.trigger=i,a.vm=f,m==null||m.addEventListener("scroll",a)}function F(n){return n.children?z(n.children,F):[n]}function E(n,e){return n+e.colSpan}const S=(n,e,o,t)=>{let i=0,c=n;const l=o.states.columns.value;if(t){const u=F(t[n]);i=l.slice(0,l.indexOf(u[0])).reduce(E,0),c=i+u.reduce(E,0)-1}else i=n;let r;switch(e){case"left":c<o.states.fixedLeafColumnsLength.value&&(r="left");break;case"right":i>=l.length-o.states.rightFixedLeafColumnsLength.value&&(r="right");break;default:c<o.states.fixedLeafColumnsLength.value?r="left":i>=l.length-o.states.rightFixedLeafColumnsLength.value&&(r="right")}return r?{direction:r,start:i,after:c}:{}},mn=(n,e,o,t,i,c=0)=>{const l=[],{direction:r,start:u,after:s}=S(e,o,t,i);if(r){const f=r==="left";l.push(`${n}-fixed-column--${r}`),f&&s+c===t.states.fixedLeafColumnsLength.value-1?l.push("is-last-column"):!f&&u-c===t.states.columns.value.length-t.states.rightFixedLeafColumnsLength.value&&l.push("is-first-column")}return l};function O(n,e){return n+(U(e.realWidth)||Number.isNaN(e.realWidth)?Number(e.width):e.realWidth)}const gn=(n,e,o,t)=>{const{direction:i,start:c=0,after:l=0}=S(n,e,o,t);if(!i)return;const r={},u=i==="left",s=o.states.columns.value;return u?r.left=s.slice(0,c).reduce(O,0):r.right=s.slice(l+1).reverse().reduce(O,0),r},hn=(n,e)=>{n&&(Number.isNaN(n[e])||(n[e]=`${n[e]}px`))};export{Q as a,en as b,ln as c,pn as d,T as e,cn as f,sn as g,mn as h,gn as i,hn as j,an as k,rn as l,un as m,J as n,on as o,fn as p,a as r,X as t,dn as w};
