import{m as S,t as j}from"./vendor-GPqP-Bpe7Rwo6.js";function C(c,h){return Array.from({length:h-c},(g,f)=>c+f)}function I(c){return function(h,g){return c(h.source.value+h.target.value,g.source.value+g.target.value)}}function F(){return _(!1)}function _(c,h){var g=0,f=null,A=null,d=null;function l(n){var e=n.length,v=new Array(e),i=C(0,e),s=new Array(e*e),y=new Array(e),p=0,b;n=Float64Array.from({length:e*e},(o,r)=>n[r/e|0][r%e]);for(let o=0;o<e;++o){let r=0;for(let a=0;a<e;++a)r+=n[o*e+a]+c*n[a*e+o];p+=v[o]=r}p=S(0,j-g*e)/p,b=p?g:j/e;{let o=0;f&&i.sort((r,a)=>f(v[r],v[a]));for(const r of i){const a=o;{const w=C(0,e).filter(u=>n[r*e+u]||n[u*e+r]);A&&w.sort((u,t)=>A(n[r*e+u],n[r*e+t]));for(const u of w){let t;if(r<u?(t=s[r*e+u]||(s[r*e+u]={source:null,target:null}),t.source={index:r,startAngle:o,endAngle:o+=n[r*e+u]*p,value:n[r*e+u]}):(t=s[u*e+r]||(s[u*e+r]={source:null,target:null}),t.target={index:r,startAngle:o,endAngle:o+=n[r*e+u]*p,value:n[r*e+u]},r===u&&(t.source=t.target)),t.source&&t.target&&t.source.value<t.target.value){const G=t.source;t.source=t.target,t.target=G}}y[r]={index:r,startAngle:a,endAngle:o,value:v[r]}}o+=b}}return s=Object.values(s),s.groups=y,d?s.sort(d):s}return l.padAngle=function(n){return arguments.length?(g=S(0,n),l):g},l.sortGroups=function(n){return arguments.length?(f=n,l):f},l.sortSubgroups=function(n){return arguments.length?(A=n,l):A},l.sortChords=function(n){return arguments.length?(n==null?d=null:(d=I(n))._=n,l):d&&d._},l}export{F as c};
