import{E as R}from"./vendor-AQSj-DFJim-ok.js";import{K as A}from"./vendor-Fq1d-qefZ2EtI.js";import{t as B}from"./vendor-mj3a-BBL2-yn9.js";import{T as x}from"./vendor-zlqB-ey4uwkci.js";import{b as D,d as K}from"./vendor-BvSU-CYRVtLwv.js";import{U as N}from"./vendor-lLeK-BB_Ol6Sd.js";import{u as O}from"./vendor-unoq-CFxLHdLI.js";import{u as U}from"./vendor-i2RY-DDkMSaAz.js";import{E as y}from"./vendor-bP7i-BUADUvnR.js";import{c as $}from"./vendor-7avT-DhdrFwTb.js";import{i as F,a as C}from"./vendor-UUu6-BeUS1t8s.js";import{d as I,c as z,w as E,t as M,z as r,r as P,g as j,p as q}from"./vendor-RE7Z-DOm9JKld.js";import{r as g}from"./vendor-eqDO-Ti6p_k8X.js";const G=D({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:K(Function),default:()=>!0},stretch:Boolean}),f=e=>$(e)||F(e),H={[N]:e=>f(e),tabClick:(e,t)=>t instanceof Event,tabChange:e=>f(e),edit:(e,t)=>["remove","add"].includes(t),tabRemove:e=>f(e),tabAdd:()=>!0},J=I({name:"ElTabs",props:G,emits:H,setup(e,{emit:t,slots:u,expose:w}){var v;const n=O("tabs"),p=z(()=>["left","right"].includes(e.tabPosition)),{children:b,addChild:_,removeChild:S}=U(j(),"ElTabPane"),m=g(),s=g((v=e.modelValue)!=null?v:"0"),h=async(a,l=!1)=>{var d,c;if(!(s.value===a||C(a)))try{let o;if(e.beforeLeave){const i=e.beforeLeave(a,s.value);o=i instanceof Promise?await i:i}else o=!0;o!==!1&&(s.value=a,l&&(t(N,a),t("tabChange",a)),(c=(d=m.value)==null?void 0:d.removeFocus)==null||c.call(d))}catch{}},V=(a,l,d)=>{a.props.disabled||(h(l,!0),t("tabClick",a,d))},k=(a,l)=>{a.props.disabled||C(a.props.name)||(l.stopPropagation(),t("edit",a.props.name,"remove"),t("tabRemove",a.props.name))},T=()=>{t("edit",void 0,"add"),t("tabAdd")};E(()=>e.modelValue,a=>h(a)),E(s,async()=>{var a;await M(),(a=m.value)==null||a.scrollToActiveTab()}),q(B,{props:e,currentName:s,registerPane:a=>{b.value.push(a)},sortPane:_,unregisterPane:S}),w({currentName:s});const L=({render:a})=>a();return()=>{const a=u["add-icon"],l=e.editable||e.addable?r("div",{class:[n.e("new-tab"),p.value&&n.e("new-tab-vertical")],tabindex:"0",onClick:T,onKeydown:o=>{[y.enter,y.numpadEnter].includes(o.code)&&T()}},[a?P(u,"add-icon"):r(R,{class:n.is("icon-plus")},{default:()=>[r(A,null,null)]})]):null,d=r("div",{class:[n.e("header"),p.value&&n.e("header-vertical"),n.is(e.tabPosition)]},[r(L,{render:()=>{const o=b.value.some(i=>i.slots.label);return r(x,{ref:m,currentName:s.value,editable:e.editable,type:e.type,panes:b.value,stretch:e.stretch,onTabClick:V,onTabRemove:k},{$stable:!o})}},null),l]),c=r("div",{class:n.e("content")},[P(u,"default")]);return r("div",{class:[n.b(),n.m(e.tabPosition),{[n.m("card")]:e.type==="card",[n.m("border-card")]:e.type==="border-card"}]},[c,d])}}});var de=J;export{de as T};
