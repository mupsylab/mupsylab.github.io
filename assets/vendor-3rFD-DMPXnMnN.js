import{d as P}from"./vendor-v13v-B_uL0f_K.js";import{E as _}from"./vendor-AQSj-DFJim-ok.js";import{i as j,j as A}from"./vendor-Fq1d-qefZ2EtI.js";import{i as se,g as re}from"./vendor-4YxN-Ca0MF-br.js";import{p as ie,a as de}from"./vendor-7Suu-BYBGEnw4.js";import{u as ue}from"./vendor-3QkE-BMOIT6AX.js";import{u as ce}from"./vendor-ul03-DB0VgeyZ.js";import{M as T}from"./vendor-xGvb-B_7kC9Iu.js";import{_ as pe}from"./vendor-pM4a-CqGSI99y.js";import{u as me}from"./vendor-cebD-BGFhTQCu.js";import{n as t,t as V,i as z}from"./vendor-7avT-DhdrFwTb.js";import{d as H,l as fe,c as F,a as p,o as m,b as o,r as h,C as w,F as ge,D as be,z as s,h as D}from"./vendor-RE7Z-DOm9JKld.js";import{b as Y,r as U,u as e}from"./vendor-eqDO-Ti6p_k8X.js";const S="year",he=H({name:"DatePickerMonthRange"}),ve=H({...he,props:de,emits:ie,setup(K,{emit:d}){const f=K,{lang:g}=me(),R=fe("EP_PICKER_BASE"),{shortcuts:M,disabledDate:E}=R.props,v=Y(R.props,"format"),N=Y(R.props,"defaultValue"),u=U(P().locale(g.value)),c=U(P().locale(g.value).add(1,S)),{minDate:k,maxDate:C,rangeState:$,ppNs:n,drpNs:b,handleChangeRange:x,handleRangeConfirm:q,handleShortcutClick:G,onSelect:B}=ce(f,{defaultValue:N,leftDate:u,rightDate:c,unit:S,onParsedValueChanged:oe}),I=F(()=>!!M.length),{leftPrevYear:J,rightNextYear:O,leftNextYear:Q,rightPrevYear:W,leftLabel:X,rightLabel:Z,leftYear:ee,rightYear:ae}=ue({unlinkPanels:Y(f,"unlinkPanels"),leftDate:u,rightDate:c}),y=F(()=>f.unlinkPanels&&ae.value>ee.value+1),L=(a,l=!0)=>{const r=a.minDate,i=a.maxDate;C.value===i&&k.value===r||(d("calendar-change",[r.toDate(),i&&i.toDate()]),C.value=i,k.value=r,l&&q())},te=()=>{u.value=re(e(N),{lang:e(g),unit:"year",unlinkPanels:f.unlinkPanels})[0],c.value=u.value.add(1,"year"),d("pick",null)},ne=a=>z(a)?a.map(l=>l.format(v.value)):a.format(v.value),le=a=>z(a)?a.map(l=>P(l,v.value).locale(g.value)):P(a,v.value).locale(g.value);function oe(a,l){if(f.unlinkPanels&&l){const r=(a==null?void 0:a.year())||0,i=l.year();c.value=r===i?l.add(1,S):l}else c.value=u.value.add(1,S)}return d("set-picker-option",["isValidValue",se]),d("set-picker-option",["formatToString",ne]),d("set-picker-option",["parseUserInput",le]),d("set-picker-option",["handleClear",te]),(a,l)=>(m(),p("div",{class:t([e(n).b(),e(b).b(),{"has-sidebar":!!a.$slots.sidebar||e(I)}])},[o("div",{class:t(e(n).e("body-wrapper"))},[h(a.$slots,"sidebar",{class:t(e(n).e("sidebar"))}),e(I)?(m(),p("div",{key:0,class:t(e(n).e("sidebar"))},[(m(!0),p(ge,null,be(e(M),(r,i)=>(m(),p("button",{key:i,type:"button",class:t(e(n).e("shortcut")),onClick:ke=>e(G)(r)},V(r.text),11,["onClick"]))),128))],2)):w("v-if",!0),o("div",{class:t(e(n).e("body"))},[o("div",{class:t([[e(n).e("content"),e(b).e("content")],"is-left"])},[o("div",{class:t(e(b).e("header"))},[o("button",{type:"button",class:t([e(n).e("icon-btn"),"d-arrow-left"]),onClick:e(J)},[h(a.$slots,"prev-year",{},()=>[s(e(_),null,{default:D(()=>[s(e(j))]),_:1})])],10,["onClick"]),a.unlinkPanels?(m(),p("button",{key:0,type:"button",disabled:!e(y),class:t([[e(n).e("icon-btn"),{[e(n).is("disabled")]:!e(y)}],"d-arrow-right"]),onClick:e(Q)},[h(a.$slots,"next-year",{},()=>[s(e(_),null,{default:D(()=>[s(e(A))]),_:1})])],10,["disabled","onClick"])):w("v-if",!0),o("div",null,V(e(X)),1)],2),s(T,{"selection-mode":"range",date:u.value,"min-date":e(k),"max-date":e(C),"range-state":e($),"disabled-date":e(E),onChangerange:e(x),onPick:L,onSelect:e(B)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),o("div",{class:t([[e(n).e("content"),e(b).e("content")],"is-right"])},[o("div",{class:t(e(b).e("header"))},[a.unlinkPanels?(m(),p("button",{key:0,type:"button",disabled:!e(y),class:t([[e(n).e("icon-btn"),{"is-disabled":!e(y)}],"d-arrow-left"]),onClick:e(W)},[h(a.$slots,"prev-year",{},()=>[s(e(_),null,{default:D(()=>[s(e(j))]),_:1})])],10,["disabled","onClick"])):w("v-if",!0),o("button",{type:"button",class:t([e(n).e("icon-btn"),"d-arrow-right"]),onClick:e(O)},[h(a.$slots,"next-year",{},()=>[s(e(_),null,{default:D(()=>[s(e(A))]),_:1})])],10,["onClick"]),o("div",null,V(e(Z)),1)],2),s(T,{"selection-mode":"range",date:c.value,"min-date":e(k),"max-date":e(C),"range-state":e($),"disabled-date":e(E),onChangerange:e(x),onPick:L,onSelect:e(B)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var $e=pe(ve,[["__file","panel-month-range.vue"]]);export{$e as M};
