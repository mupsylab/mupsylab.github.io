import{t as S}from"./vendor-NRPP-CsZ0XXFx.js";import{T}from"./vendor-U9nK-TG00rf2Z.js";import{p as M}from"./vendor-40mF-CzqAOxQP.js";import{i as b,d as N}from"./vendor-7avT-DhdrFwTb.js";import{i as K}from"./vendor-UUu6-BeUS1t8s.js";import{d as P,z as H,H as E,l as V,c as C,e as j,t as k}from"./vendor-RE7Z-DOm9JKld.js";import{u,r as I}from"./vendor-eqDO-Ti6p_k8X.js";const D=n=>{const{isScrolling:v}=V(T),f=I(!1),w=I(),h=C(()=>K(n.estimatedRowHeight)&&n.rowIndex>=0),g=(a=!1)=>{const r=u(w);if(!r)return;const{columns:s,onRowHeightChange:l,rowKey:m,rowIndex:i,style:o}=n,{height:t}=r.getBoundingClientRect();f.value=!0,k(()=>{if(a||t!==Number.parseInt(o.height)){const e=s[0],c=(e==null?void 0:e.placeholderSign)===M;l==null||l({rowKey:m,height:t,rowIndex:i},e&&!c&&e.fixed)}})},x=C(()=>{const{rowData:a,rowIndex:r,rowKey:s,onRowHover:l}=n,m=n.rowEventHandlers||{},i={};return Object.entries(m).forEach(([o,t])=>{N(t)&&(i[o]=e=>{t({event:e,rowData:a,rowIndex:r,rowKey:s})})}),l&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:o,hovered:t})=>{const e=i[o];i[o]=c=>{l({event:c,hovered:t,rowData:a,rowIndex:r,rowKey:s}),e==null||e(c)}}),i}),y=a=>{const{onRowExpand:r,rowData:s,rowIndex:l,rowKey:m}=n;r==null||r({expanded:a,rowData:s,rowIndex:l,rowKey:m})};return j(()=>{u(h)&&g(!0)}),{isScrolling:v,measurable:h,measured:f,rowRef:w,eventHandlers:x,onExpand:y}},O="ElTableV2TableRow",A=P({name:O,props:S,setup(n,{expose:v,slots:f,attrs:w}){const{eventHandlers:h,isScrolling:g,measurable:x,measured:y,rowRef:a,onExpand:r}=D(n);return v({onExpand:r}),()=>{const{columns:s,columnsStyles:l,expandColumnKey:m,depth:i,rowData:o,rowIndex:t,style:e}=n;let c=s.map((d,p)=>{const R=b(o.children)&&o.children.length>0&&d.key===m;return f.cell({column:d,columns:s,columnIndex:p,depth:i,style:l[d.key],rowData:o,rowIndex:t,isScrolling:u(g),expandIconProps:R?{rowData:o,rowIndex:t,onExpand:r}:void 0})});if(f.row&&(c=f.row({cells:c.map(d=>b(d)&&d.length===1?d[0]:d),style:e,columns:s,depth:i,rowData:o,rowIndex:t,isScrolling:u(g)})),u(x)){const{height:d,...p}=e||{},R=u(y);return H("div",E({ref:a,class:n.class,style:R?e:p,role:"row"},w,u(h)),[c])}return H("div",E(w,{ref:a,class:n.class,style:e,role:"row"},u(h)),[c])}}});var J=A;export{J as R};
