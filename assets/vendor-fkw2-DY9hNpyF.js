import{E as T}from"./vendor-CO0n-CZ7yfaio.js";import{a as M}from"./vendor-8Pjl-C0VnOa-J.js";import{m as N,k as S}from"./vendor-8jHm-DXstvPfe.js";import{u as _}from"./vendor-DNWn-8hGt3o5v.js";import{u as W}from"./vendor-HIOz-QHRzb0Q0.js";import{d as A}from"./vendor-3bNu-CndEBa88.js";import{a as g}from"./vendor-UUu6-BeUS1t8s.js";import{i as b,c as $}from"./vendor-7avT-DhdrFwTb.js";import{d as k,F as B,n as x,c as D,g as H,W as K,e as R,j as U}from"./vendor-RE7Z-DOm9JKld.js";import{r as V}from"./vendor-eqDO-Ti6p_k8X.js";let j=1;var ae=k({name:"ElTableColumn",components:{ElCheckbox:T},props:A,setup(e,{slots:m}){const r=H(),l=V({}),t=D(()=>{let o=r.parent;for(;o&&!o.tableId;)o=o.parent;return o}),{registerNormalWatchers:p,registerComplexWatchers:a}=_(t,e),{columnId:n,isSubColumn:c,realHeaderAlign:I,columnOrTableParent:v,setColumnWidth:P,setColumnForcedProps:y,setColumnRenders:w,getPropsData:O,getColumnElIndex:F,realAlign:E,updateColumnOrder:h}=W(e,m,t),s=v.value;n.value=`${s.tableId||s.columnId}_column_${j++}`,K(()=>{c.value=t.value!==s;const o=e.type||"default",i=e.sortable===""?!0:e.sortable,f=g(e.showOverflowTooltip)?s.props.showOverflowTooltip:e.showOverflowTooltip,d=g(e.tooltipFormatter)?s.props.tooltipFormatter:e.tooltipFormatter,C={...M[o],id:n.value,type:o,property:e.prop||e.property,align:E,headerAlign:I,showOverflowTooltip:f,tooltipFormatter:d,filterable:e.filters||e.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:i,index:e.index,rawColumnKey:r.vnode.key};let u=O(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);u=N(C,u),u=S(w,P,y)(u),l.value=u,p(),a()}),R(()=>{var o;const i=v.value,f=c.value?i.vnode.el.children:(o=i.refs.hiddenColumns)==null?void 0:o.children,d=()=>F(f||[],r.vnode.el);l.value.getColumnIndex=d,d()>-1&&t.value.store.commit("insertColumn",l.value,c.value?i.columnConfig.value:null,h)}),U(()=>{const o=l.value.getColumnIndex;(o?o():-1)>-1&&t.value.store.commit("removeColumn",l.value,c.value?s.columnConfig.value:null,h)}),r.columnId=n.value,r.columnConfig=l},render(){var e,m,r;try{const l=(m=(e=this.$slots).default)==null?void 0:m.call(e,{row:{},column:{},$index:-1}),t=[];if(b(l))for(const a of l)((r=a.type)==null?void 0:r.name)==="ElTableColumn"||a.shapeFlag&2?t.push(a):a.type===B&&b(a.children)&&a.children.forEach(n=>{(n==null?void 0:n.patchFlag)!==1024&&!$(n==null?void 0:n.children)&&t.push(n)});return x("div",t)}catch{return x("div",[])}}});export{ae as E};
