import{u as se}from"./vendor-5WKb-KWd2YoVw.js";import{c as ve,C as R}from"./vendor-KdZP-l1BTwzQl.js";import{u as ce}from"./vendor-i2RY-DDkMSaAz.js";import{c as fe}from"./vendor-7avT-DhdrFwTb.js";import{f as me}from"./vendor-ShXQ-Bzrtgmud.js";import{t as k}from"./vendor-Y0Io-CY82OFkb.js";import{u as he,c as I,w as g,e as de,j as Ie,p as ge,k as Ce,g as Se}from"./vendor-RE7Z-DOm9JKld.js";import{r as i,u as E,s as Te}from"./vendor-eqDO-Ti6p_k8X.js";const z=300,He=(t,B,Ee)=>{const{children:n,addChild:P,removeChild:F}=ce(Se(),R),L=he(),l=i(-1),f=i(null),w=i(!1),C=i(),N=i(0),m=i(!0),c=i(!0),r=i(!1),U=I(()=>t.arrow!=="never"&&!E(h)),V=I(()=>n.value.some(e=>e.props.label.toString().length>0)),y=I(()=>t.type==="card"),h=I(()=>t.direction==="vertical"),j=I(()=>t.height!=="auto"?{height:t.height}:{height:`${N.value}px`,overflow:"hidden"}),D=k(e=>{s(e)},z,{trailing:!0}),K=k(e=>{x(e)},z),$=e=>m.value?l.value<=1?e<=1:e>1:!0;function S(){f.value&&(clearInterval(f.value),f.value=null)}function T(){t.interval<=0||!t.autoplay||f.value||(f.value=setInterval(()=>q(),t.interval))}const q=()=>{c.value||(r.value=!0),c.value=!1,l.value<n.value.length-1?l.value=l.value+1:t.loop?l.value=0:r.value=!1};function s(e){if(c.value||(r.value=!0),c.value=!1,fe(e)){const o=n.value.filter(v=>v.props.name===e);o.length>0&&(e=n.value.indexOf(o[0]))}if(e=Number(e),Number.isNaN(e)||e!==Math.floor(e))return;const a=n.value.length,u=l.value;e<0?l.value=t.loop?a-1:0:e>=a?l.value=t.loop?0:a-1:l.value=e,u===l.value&&_(u),O()}function _(e){n.value.forEach((a,u)=>{a.translateItem(u,l.value,e)})}function G(e,a){var u,o,v,b;const d=E(n),H=d.length;if(H===0||!e.states.inStage)return!1;const le=a+1,ne=a-1,M=H-1,ue=d[M].states.active,oe=d[0].states.active,ie=(o=(u=d[le])==null?void 0:u.states)==null?void 0:o.active,re=(b=(v=d[ne])==null?void 0:v.states)==null?void 0:b.active;return a===M&&oe||ie?"left":a===0&&ue||re?"right":!1}function J(){w.value=!0,t.pauseOnHover&&S()}function Q(){w.value=!1,T()}function W(){r.value=!1}function X(e){E(h)||n.value.forEach((a,u)=>{e===G(a,u)&&(a.states.hover=!0)})}function Y(){E(h)||n.value.forEach(e=>{e.states.hover=!1})}function Z(e){e!==l.value&&(c.value||(r.value=!0)),l.value=e}function x(e){t.trigger==="hover"&&e!==l.value&&(l.value=e,c.value||(r.value=!0))}function p(){s(l.value-1)}function ee(){s(l.value+1)}function O(){S(),t.pauseOnHover||T()}function te(e){t.height==="auto"&&(N.value=e)}function ae(){var e;const a=(e=L.default)==null?void 0:e.call(L);if(!a)return null;const o=me(a).filter(v=>Ce(v)&&v.type.name===R);return(o==null?void 0:o.length)===2&&t.loop&&!y.value?(m.value=!0,o):(m.value=!1,null)}g(()=>l.value,(e,a)=>{_(a),m.value&&(e=e%2,a=a%2),a>-1&&B("change",e,a)}),g(()=>t.autoplay,e=>{e?T():S()}),g(()=>t.loop,()=>{s(l.value)}),g(()=>t.interval,()=>{O()});const A=Te();return de(()=>{g(()=>n.value,()=>{n.value.length>0&&s(t.initialIndex)},{immediate:!0}),A.value=se(C.value,()=>{_()}),T()}),Ie(()=>{S(),C.value&&A.value&&A.value.stop()}),ge(ve,{root:C,isCardType:y,isVertical:h,items:n,loop:t.loop,cardScale:t.cardScale,addItem:P,removeItem:F,setActiveItem:s,setContainerHeight:te}),{root:C,activeIndex:l,arrowDisplay:U,hasLabel:V,hover:w,isCardType:y,isTransitioning:r,items:n,isVertical:h,containerStyle:j,isItemsTwoLength:m,handleButtonEnter:X,handleTransitionEnd:W,handleButtonLeave:Y,handleIndicatorClick:Z,handleMouseEnter:J,handleMouseLeave:Q,setActiveItem:s,prev:p,next:ee,PlaceholderItem:ae,isTwoLengthShow:$,throttledArrowClick:D,throttledIndicatorHover:K}};export{He as u};
