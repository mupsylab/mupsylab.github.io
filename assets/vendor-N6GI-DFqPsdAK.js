import{i as g}from"./vendor-7avT-DhdrFwTb.js";import{r as x,u as l}from"./vendor-eqDO-Ti6p_k8X.js";import{c as u,w as E}from"./vendor-RE7Z-DOm9JKld.js";const S=(s,{expandedRowKeys:f,lastRenderedRowIndex:p,resetAfterIndex:m})=>{const c=x({}),y=u(()=>{const e={},{data:a,rowKey:n}=s,o=l(f);if(!o||!o.length)return a;const h=[],i=new Set;o.forEach(t=>i.add(t));let r=a.slice();for(r.forEach(t=>e[t[n]]=0);r.length>0;){const t=r.shift();h.push(t),i.has(t[n])&&g(t.children)&&t.children.length>0&&(r=[...t.children,...r],t.children.forEach(w=>e[w[n]]=e[t[n]]+1))}return c.value=e,h}),d=u(()=>{const{data:e,expandColumnKey:a}=s;return a?l(y):e});return E(d,(e,a)=>{e!==a&&(p.value=-1,m(0,!0))}),{data:d,depthMap:c}};export{S as u};
