import{c as f}from"./vendor-LTID-Cx9lXQ1W.js";import{c as b}from"./vendor-7avT-DhdrFwTb.js";import{g as s,a as i,r as c}from"./vendor-7XBs-C2ZIZBcB.js";import{i as g}from"./vendor-k87t-DYFOtHqs.js";import{t as m}from"./vendor-RE7Z-DOm9JKld.js";let a;const L=function(t={}){if(!g)return;const e=v(t);if(e.fullscreen&&a)return a;const l=f({...e,closed:()=>{var n;(n=e.closed)==null||n.call(e),e.fullscreen&&(a=void 0)}});y(e,e.parent,l),u(e,e.parent,l),e.parent.vLoadingAddClassList=()=>u(e,e.parent,l);let o=e.parent.getAttribute("loading-number");return o?o=`${Number.parseInt(o)+1}`:o="1",e.parent.setAttribute("loading-number",o),e.parent.appendChild(l.$el),m(()=>l.visible.value=e.visible),e.fullscreen&&(a=l),l},v=t=>{var e,l,o,n;let r;return b(t.target)?r=(e=document.querySelector(t.target))!=null?e:document.body:r=t.target||document.body,{parent:r===document.body||t.body?document.body:r,background:t.background||"",svg:t.svg||"",svgViewBox:t.svgViewBox||"",spinner:t.spinner||!1,text:t.text||"",fullscreen:r===document.body&&((l=t.fullscreen)!=null?l:!0),lock:(o=t.lock)!=null?o:!1,customClass:t.customClass||"",visible:(n=t.visible)!=null?n:!0,beforeClose:t.beforeClose,closed:t.closed,target:r}},y=async(t,e,l)=>{const{nextZIndex:o}=l.vm.zIndex||l.vm._.exposed.zIndex,n={};if(t.fullscreen)l.originalPosition.value=s(document.body,"position"),l.originalOverflow.value=s(document.body,"overflow"),n.zIndex=o();else if(t.parent===document.body){l.originalPosition.value=s(document.body,"position"),await m();for(const r of["top","left"]){const d=r==="top"?"scrollTop":"scrollLeft";n[r]=`${t.target.getBoundingClientRect()[r]+document.body[d]+document.documentElement[d]-Number.parseInt(s(document.body,`margin-${r}`),10)}px`}for(const r of["height","width"])n[r]=`${t.target.getBoundingClientRect()[r]}px`}else l.originalPosition.value=s(e,"position");for(const[r,d]of Object.entries(n))l.$el.style[r]=d},u=(t,e,l)=>{const o=l.vm.ns||l.vm._.exposed.ns;["absolute","fixed","sticky"].includes(l.originalPosition.value)?c(e,o.bm("parent","relative")):i(e,o.bm("parent","relative")),t.fullscreen&&t.lock?i(e,o.bm("parent","hidden")):c(e,o.bm("parent","hidden"))};export{L};
