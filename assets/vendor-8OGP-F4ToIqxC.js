import{u as w}from"./vendor-5WKb-KWd2YoVw.js";import{a as x,f as E}from"./vendor-clQw-JAUZZBS7.js";import{t as N}from"./vendor-0rdd-Cq9Fpw4b.js";import{u as A}from"./vendor-unoq-CFxLHdLI.js";import{d as F,l as c,e as P,j as _,q as y,w as M,c as B,z as p,F as I,t as O}from"./vendor-RE7Z-DOm9JKld.js";import{r as h}from"./vendor-eqDO-Ti6p_k8X.js";const b="ElLabelWrap";var q=F({name:b,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(n,{slots:o}){const a=c(x,void 0),i=c(E);i||N(b,"usage: <el-form-item><label-wrap /></el-form-item>");const v=A("form"),l=h(),r=h(0),W=()=>{var e;if((e=l.value)!=null&&e.firstElementChild){const t=window.getComputedStyle(l.value.firstElementChild).width;return Math.ceil(Number.parseFloat(t))}else return 0},d=(e="update")=>{O(()=>{o.default&&n.isAutoWidth&&(e==="update"?r.value=W():e==="remove"&&(a==null||a.deregisterLabelWidth(r.value)))})},s=()=>d("update");return P(()=>{s()}),_(()=>{d("remove")}),y(()=>s()),M(r,(e,t)=>{n.updateAll&&(a==null||a.registerLabelWidth(e,t))}),w(B(()=>{var e,t;return(t=(e=l.value)==null?void 0:e.firstElementChild)!=null?t:null}),s),()=>{var e,t;if(!o)return null;const{isAutoWidth:L}=n;if(L){const u=a==null?void 0:a.autoLabelWidth,g=i==null?void 0:i.hasLabel,m={};if(g&&u&&u!=="auto"){const f=Math.max(0,Number.parseInt(u,10)-r.value),C=(i.labelPosition||a.labelPosition)==="left"?"marginRight":"marginLeft";f&&(m[C]=`${f}px`)}return p("div",{ref:l,class:[v.be("item","label-wrap")],style:m},[(e=o.default)==null?void 0:e.call(o)])}else return p(I,{ref:l},[(t=o.default)==null?void 0:t.call(o)])}}});export{q as F};
