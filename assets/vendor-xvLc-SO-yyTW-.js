import{a as F,w as z,f as D}from"./vendor-8F4M-BzORa8vA.js";import{E as d}from"./vendor-AQSj-DFJim-ok.js";import{O as N,q as P,m as K,e as U,g as O,P as S}from"./vendor-Fq1d-qefZ2EtI.js";import{E as V}from"./vendor-izfQ-DhCwMWXb.js";import{u as I,a as q}from"./vendor-sX6y-CfJ6XcsM.js";import{_ as G}from"./vendor-pM4a-CqGSI99y.js";import{u as M}from"./vendor-cebD-BGFhTQCu.js";import{u as b}from"./vendor-unoq-CFxLHdLI.js";import{a as R}from"./vendor-hmuK-B6xHqdWm.js";import{d as T,c as j,f as m,o as i,h as u,a as p,r as h,F as A,D as H,C as o,b as y,z as n}from"./vendor-RE7Z-DOm9JKld.js";import{r as J,u as e}from"./vendor-eqDO-Ti6p_k8X.js";import{n as t,t as C,a as Q}from"./vendor-7avT-DhdrFwTb.js";const W=T({name:"ElUploadList"}),X=T({...W,props:q,emits:I,setup(w,{emit:_}){const g=w,{t:$}=M(),l=b("upload"),r=b("icon"),E=b("list"),f=R(),v=J(!1),L=j(()=>[l.b("list"),l.bm("list",g.listType),l.is("disabled",g.disabled)]),k=s=>{_("remove",s)};return(s,Y)=>(i(),m(D,{tag:"ul",class:t(e(L)),name:e(E).b()},{default:u(()=>[(i(!0),p(A,null,H(s.files,(a,B)=>(i(),p("li",{key:a.uid||a.name,class:t([e(l).be("list","item"),e(l).is(a.status),{focusing:v.value}]),tabindex:"0",onKeydown:F(c=>!e(f)&&k(a),["delete"]),onFocus:c=>v.value=!0,onBlur:c=>v.value=!1,onClick:c=>v.value=!1},[h(s.$slots,"default",{file:a,index:B},()=>[s.listType==="picture"||a.status!=="uploading"&&s.listType==="picture-card"?(i(),p("img",{key:0,class:t(e(l).be("list","item-thumbnail")),src:a.url,crossorigin:s.crossorigin,alt:""},null,10,["src","crossorigin"])):o("v-if",!0),a.status==="uploading"||s.listType!=="picture-card"?(i(),p("div",{key:1,class:t(e(l).be("list","item-info"))},[y("a",{class:t(e(l).be("list","item-name")),onClick:z(c=>s.handlePreview(a),["prevent"])},[n(e(d),{class:t(e(r).m("document"))},{default:u(()=>[n(e(N))]),_:1},8,["class"]),y("span",{class:t(e(l).be("list","item-file-name")),title:a.name},C(a.name),11,["title"])],10,["onClick"]),a.status==="uploading"?(i(),m(e(V),{key:0,type:s.listType==="picture-card"?"circle":"line","stroke-width":s.listType==="picture-card"?6:2,percentage:Number(a.percentage),style:Q(s.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):o("v-if",!0)],2)):o("v-if",!0),y("label",{class:t(e(l).be("list","item-status-label"))},[s.listType==="text"?(i(),m(e(d),{key:0,class:t([e(r).m("upload-success"),e(r).m("circle-check")])},{default:u(()=>[n(e(P))]),_:1},8,["class"])):["picture-card","picture"].includes(s.listType)?(i(),m(e(d),{key:1,class:t([e(r).m("upload-success"),e(r).m("check")])},{default:u(()=>[n(e(K))]),_:1},8,["class"])):o("v-if",!0)],2),e(f)?o("v-if",!0):(i(),m(e(d),{key:2,class:t(e(r).m("close")),onClick:c=>k(a)},{default:u(()=>[n(e(U))]),_:2},1032,["class","onClick"])),o(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),o(" This is a bug which needs to be fixed "),o(" TODO: Fix the incorrect navigation interaction "),e(f)?o("v-if",!0):(i(),p("i",{key:3,class:t(e(r).m("close-tip"))},C(e($)("el.upload.deleteTip")),3)),s.listType==="picture-card"?(i(),p("span",{key:4,class:t(e(l).be("list","item-actions"))},[y("span",{class:t(e(l).be("list","item-preview")),onClick:c=>s.handlePreview(a)},[n(e(d),{class:t(e(r).m("zoom-in"))},{default:u(()=>[n(e(O))]),_:1},8,["class"])],10,["onClick"]),e(f)?o("v-if",!0):(i(),p("span",{key:0,class:t(e(l).be("list","item-delete")),onClick:c=>k(a)},[n(e(d),{class:t(e(r).m("delete"))},{default:u(()=>[n(e(S))]),_:1},8,["class"])],10,["onClick"]))],2)):o("v-if",!0)])],42,["onKeydown","onFocus","onBlur","onClick"]))),128)),h(s.$slots,"append")]),_:3},8,["class","name"]))}});var ue=G(X,[["__file","upload-list.vue"]]);export{ue as U};
