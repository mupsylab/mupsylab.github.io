import{s as w,a as D}from"./vendor-8i6V-DI9FKtlJ.js";import{e as R}from"./vendor-W2mj-CCBXsyCN.js";import{j as n}from"./vendor-7avT-DhdrFwTb.js";import{c as f}from"./vendor-sJES-T5Eo13Ui.js";import{g as b}from"./vendor-sXNC-Da9ghdLI.js";import{i as S}from"./vendor-ys5x-C1IsWqtu.js";import{l as v,c as a,w as d,g as j}from"./vendor-RE7Z-DOm9JKld.js";import{c as I}from"./vendor-eqDO-Ti6p_k8X.js";function z(s,l){const e=v(w),u=v(D,{disabled:!1}),p=a(()=>h(f(e.props.modelValue),s.value)),g=a(()=>{var t;if(e.props.multiple){const r=f((t=e.props.modelValue)!=null?t:[]);return!p.value&&r.length>=e.props.multipleLimit&&e.props.multipleLimit>0}else return!1}),c=a(()=>s.label||(n(s.value)?"":s.value)),y=a(()=>s.value||s.label||""),x=a(()=>s.disabled||l.groupDisabled||g.value),m=j(),h=(t=[],r)=>{if(n(s.value)){const i=e.props.valueKey;return t&&t.some(o=>I(b(o,i))===b(r,i))}else return t&&t.includes(r)},O=()=>{!s.disabled&&!u.disabled&&(e.states.hoveringIndex=e.optionsArray.indexOf(m.proxy))},K=t=>{const r=new RegExp(R(t),"i");l.visible=r.test(c.value)||s.created};return d(()=>c.value,()=>{!s.created&&!e.props.remote&&e.setSelected()}),d(()=>s.value,(t,r)=>{const{remote:i,valueKey:o}=e.props;if((i?t!==r:!S(t,r))&&(e.onOptionDestroy(r,m.proxy),e.onOptionCreate(m.proxy)),!s.created&&!i){if(o&&n(t)&&n(r)&&t[o]===r[o])return;e.setSelected()}}),d(()=>u.disabled,()=>{l.groupDisabled=u.disabled},{immediate:!0}),{select:e,currentLabel:c,currentValue:y,itemSelected:p,isDisabled:x,hoverItem:O,updateOption:K}}export{z as u};
