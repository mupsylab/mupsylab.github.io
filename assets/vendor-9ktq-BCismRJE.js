import{b as E}from"./vendor-7XBs-C2ZIZBcB.js";import{e as B,m as U,j as $}from"./vendor-RE7Z-DOm9JKld.js";const P=(e,t,L,u)=>{let c={offsetX:0,offsetY:0};const a=v=>{const X=v.clientX,Y=v.clientY,{offsetX:m,offsetY:i}=c,o=e.value.getBoundingClientRect(),f=o.left,d=o.top,w=o.width,x=o.height,b=document.documentElement.clientWidth,D=document.documentElement.clientHeight,H=-f+m,T=-d+i,W=b-f-w+m,y=D-d-x+i,r=p=>{let n=m+p.clientX-X,s=i+p.clientY-Y;u!=null&&u.value||(n=Math.min(Math.max(n,H),W),s=Math.min(Math.max(s,T),y)),c={offsetX:n,offsetY:s},e.value&&(e.value.style.transform=`translate(${E(n)}, ${E(s)})`)},h=()=>{document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",h)};document.addEventListener("mousemove",r),document.addEventListener("mouseup",h)},g=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",a)},l=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",a)},M=()=>{c={offsetX:0,offsetY:0},e.value&&(e.value.style.transform="none")};return B(()=>{U(()=>{L.value?g():l()})}),$(()=>{l()}),{resetPosition:M}};export{P as u};
