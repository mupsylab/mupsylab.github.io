import{c as d}from"./vendor-deea-C-hkH4Pg.js";import{j as y}from"./vendor-TevV-BDucN0Ls.js";import{y as z,x as A}from"./vendor-PIWx-C5iNlcxK.js";import{q as b}from"./vendor-c7Ki-D8R_zqJa.js";function D(){var l,o,x,g,m=d(-30),u,c=1,v=1/0,M=.81;function f(t){var a,e=l.length,h=b(l,A,z).visitAfter(w);for(g=t,a=0;a<e;++a)o=l[a],h.visit(j)}function p(){if(l){var t,a=l.length,e;for(u=new Array(a),t=0;t<a;++t)e=l[t],u[e.index]=+m(e,t,l)}}function w(t){var a=0,e,h,i=0,r,s,n;if(t.length){for(r=s=n=0;n<4;++n)(e=t[n])&&(h=Math.abs(e.value))&&(a+=e.value,i+=h,r+=h*e.x,s+=h*e.y);t.x=r/i,t.y=s/i}else{e=t,e.x=e.data.x,e.y=e.data.y;do a+=u[e.data.index];while(e=e.next)}t.value=a}function j(t,a,e,h){if(!t.value)return!0;var i=t.x-o.x,r=t.y-o.y,s=h-a,n=i*i+r*r;if(s*s/M<n)return n<v&&(i===0&&(i=y(x),n+=i*i),r===0&&(r=y(x),n+=r*r),n<c&&(n=Math.sqrt(c*n)),o.vx+=i*t.value*g/n,o.vy+=r*t.value*g/n),!0;if(t.length||n>=v)return;(t.data!==o||t.next)&&(i===0&&(i=y(x),n+=i*i),r===0&&(r=y(x),n+=r*r),n<c&&(n=Math.sqrt(c*n)));do t.data!==o&&(s=u[t.data.index]*g/n,o.vx+=i*s,o.vy+=r*s);while(t=t.next)}return f.initialize=function(t,a){l=t,x=a,p()},f.strength=function(t){return arguments.length?(m=typeof t=="function"?t:d(+t),p(),f):m},f.distanceMin=function(t){return arguments.length?(c=t*t,f):Math.sqrt(c)},f.distanceMax=function(t){return arguments.length?(v=t*t,f):Math.sqrt(v)},f.theta=function(t){return arguments.length?(M=t*t,f):Math.sqrt(M)},f}export{D as m};
