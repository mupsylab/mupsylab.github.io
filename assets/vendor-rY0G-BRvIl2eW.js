import{i as K}from"./vendor-7avT-DhdrFwTb.js";const O=3;function w($,a,u=1){const t=document.createElement("canvas"),i=t.getContext("2d"),s=$*u,m=a*u;return t.setAttribute("width",`${s}px`),t.setAttribute("height",`${m}px`),i.save(),[i,t,s,m]}function Z(){function $(a,u,t,i,s,m,T,X){const[o,Y,r,x]=w(i,s,t);if(a instanceof HTMLImageElement)o.drawImage(a,0,0,r,x);else{const{color:e,fontSize:n,fontStyle:c,fontWeight:l,fontFamily:j,textAlign:k,textBaseline:q}=m,y=Number(n)*t;o.font=`${c} normal ${l} ${y}px/${s}px ${j}`,o.fillStyle=e,o.textAlign=k,o.textBaseline=q;const G=K(a)?a:[a];G==null||G.forEach((L,J)=>{o.fillText(L??"",r/2,J*(y+O*t))})}const f=Math.PI/180*Number(u),z=Math.max(i,s),[H,B,p]=w(z,z,t);H.translate(p/2,p/2),H.rotate(f),r>0&&x>0&&H.drawImage(Y,-r/2,-x/2);function N(e,n){const c=e*Math.cos(f)-n*Math.sin(f),l=e*Math.sin(f)+n*Math.cos(f);return[c,l]}let d=0,I=0,M=0,S=0;const v=r/2,C=x/2;[[0-v,0-C],[0+v,0-C],[0+v,0+C],[0-v,0+C]].forEach(([e,n])=>{const[c,l]=N(e,n);d=Math.min(d,c),I=Math.max(I,c),M=Math.min(M,l),S=Math.max(S,l)});const P=d+p/2,R=M+p/2,h=I-d,g=S-M,W=T*t,b=X*t,E=(h+W)*2,F=g+b,[D,U]=w(E,F);function A(e=0,n=0){D.drawImage(B,P,R,h,g,e,n,h,g)}return A(),A(h+W,-g/2-b/2),A(h+W,+g/2+b/2),[U.toDataURL(),E/t,F/t]}return $}export{O as F,Z as u};
