import{c as S}from"./vendor-KdZP-l1BTwzQl.js";import{a as U}from"./vendor-UUu6-BeUS1t8s.js";import{l as V,e as j,g as k,I as E}from"./vendor-RE7Z-DOm9JKld.js";import{r as n,a as K,u as l}from"./vendor-eqDO-Ti6p_k8X.js";const z=H=>{const s=V(S),h=k(),p=n(),y=n(!1),c=n(0),C=n(1),f=n(!1),I=n(!1),i=n(!1),d=n(!1),{isCardType:g,isVertical:_,cardScale:m}=s;function T(t,e,a){const o=a-1,r=e-1,v=e+1,u=a/2;return e===0&&t===o?-1:e===o&&t===0?a:t<r&&e-t>=u?a+1:t>v&&t-e>=u?-2:t}function b(t,e){var a,o;const r=l(_)?((a=s.root.value)==null?void 0:a.offsetHeight)||0:((o=s.root.value)==null?void 0:o.offsetWidth)||0;return i.value?r*((2-m)*(t-e)+1)/4:t<e?-(1+m)*r/4:(3+m)*r/4}function M(t,e,a){const o=s.root.value;return o?((a?o.offsetHeight:o.offsetWidth)||0)*(t-e):0}const N=(t,e,a)=>{var o;const r=l(g),v=(o=s.items.value.length)!=null?o:Number.NaN,u=t===e;!r&&!U(a)&&(d.value=u||t===a),!u&&v>2&&s.loop&&(t=T(t,e,v));const A=l(_);f.value=u,r?(i.value=Math.round(Math.abs(t-e))<=1,c.value=b(t,e),C.value=l(f)?1:m):c.value=M(t,e,A),I.value=!0,u&&p.value&&s.setContainerHeight(p.value.offsetHeight)};function W(){if(s&&l(g)){const t=s.items.value.findIndex(({uid:e})=>e===h.uid);s.setActiveItem(t)}}return j(()=>{s.addItem({props:H,states:K({hover:y,translate:c,scale:C,active:f,ready:I,inStage:i,animating:d}),uid:h.uid,translateItem:N})}),E(()=>{s.removeItem(h.uid)}),{carouselItemRef:p,active:f,animating:d,hover:y,inStage:i,isVertical:_,translate:c,isCardType:g,scale:C,ready:I,handleItemClick:W}};export{z as u};
