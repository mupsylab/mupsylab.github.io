import{d as v}from"./vendor-v13v-B_uL0f_K.js";import{u as S}from"./vendor-cebD-BGFhTQCu.js";import{I as j,U as E}from"./vendor-lLeK-BB_Ol6Sd.js";import{i as V,b as x}from"./vendor-7avT-DhdrFwTb.js";import{r as L}from"./vendor-eqDO-Ti6p_k8X.js";import{c as d}from"./vendor-RE7Z-DOm9JKld.js";const A=(e,o)=>{const m=e.endOf("month"),a=o.startOf("month"),c=m.isSame(a,"week")?a.add(1,"week"):a;return[[e,m],[c.startOf("week"),o]]},N=(e,o)=>{const m=e.endOf("month"),a=e.add(1,"month").startOf("month"),i=m.isSame(a,"week")?a.add(1,"week"):a,c=i.endOf("month"),l=o.startOf("month"),h=c.isSame(l,"week")?l.add(1,"week"):l;return[[e,m],[i.startOf("week"),c],[h.startOf("week"),o]]},I=(e,o,m)=>{const{lang:a}=S(),i=L(),c=v().locale(a.value),l=d({get(){return e.modelValue?u.value:i.value},set(n){if(!n)return;i.value=n;const s=n.toDate();o(j,s),o(E,s)}}),h=d(()=>{if(!e.range||!V(e.range)||e.range.length!==2||e.range.some(r=>!x(r)))return[];const n=e.range.map(r=>v(r).locale(a.value)),[s,t]=n;return s.isAfter(t)?[]:s.isSame(t,"month")?D(s,t):s.add(1,"month").month()!==t.month()?[]:D(s,t)}),u=d(()=>e.modelValue?v(e.modelValue).locale(a.value):l.value||(h.value.length?h.value[0][0]:c)),g=d(()=>u.value.subtract(1,"month").date(1)),k=d(()=>u.value.add(1,"month").date(1)),w=d(()=>u.value.subtract(1,"year").date(1)),O=d(()=>u.value.add(1,"year").date(1)),D=(n,s)=>{const t=n.startOf("week"),r=s.endOf("week"),f=t.get("month"),y=r.get("month");return f===y?[[t,r]]:(f+1)%12===y?A(t,r):f+2===y||(f+1)%11===y?N(t,r):[]},M=n=>{l.value=n};return{calculateValidatedDateRange:D,date:u,realSelectedDay:l,pickDay:M,selectDate:n=>{const t={"prev-month":g.value,"next-month":k.value,"prev-year":w.value,"next-year":O.value,today:c}[n];t.isSame(u.value,"day")||M(t)},validatedRange:h}};export{I as u};
