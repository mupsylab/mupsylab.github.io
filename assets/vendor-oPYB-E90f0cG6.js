import{r as h}from"./vendor-8F4M-BzORa8vA.js";import{N as C}from"./vendor-v4gE-BtBs-0Wu.js";import{n as E}from"./vendor-W2YC-DvmCW6i2.js";import{c as u,d as N}from"./vendor-7avT-DhdrFwTb.js";import{b,a as y}from"./vendor-UUu6-BeUS1t8s.js";import{i as T}from"./vendor-k87t-DYFOtHqs.js";import{k as v,z as _}from"./vendor-RE7Z-DOm9JKld.js";const p={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},g=16;let A=1;const m=function(e={},t){if(!T)return{close:()=>{}};(u(e)||v(e))&&(e={message:e});const s=e.position||"top-right";let n=e.offset||0;p[s].forEach(({vm:f})=>{var d;n+=(((d=f.el)==null?void 0:d.offsetHeight)||0)+g}),n+=g;const i=`notification_${A++}`,a=e.onClose,r={...e,offset:n,id:i,onClose:()=>{H(i,s,a)}};let c=document.body;b(e.appendTo)?c=e.appendTo:u(e.appendTo)&&(c=document.querySelector(e.appendTo)),b(c)||(c=document.body);const l=document.createElement("div"),o=_(C,r,N(r.message)?r.message:v(r.message)?()=>r.message:null);return o.appContext=y(t)?m._context:t,o.props.onDestroy=()=>{h(null,l)},h(o,l),p[s].push({vm:o}),c.appendChild(l.firstElementChild),{close:()=>{o.component.exposed.visible.value=!1}}};E.forEach(e=>{m[e]=(t={},s)=>((u(t)||v(t))&&(t={message:t}),m({...t,type:e},s))});function H(e,t,s){const n=p[t],i=n.findIndex(({vm:o})=>{var f;return((f=o.component)==null?void 0:f.props.id)===e});if(i===-1)return;const{vm:a}=n[i];if(!a)return;s==null||s(a);const r=a.el.offsetHeight,c=t.split("-")[0];n.splice(i,1);const l=n.length;if(!(l<1))for(let o=i;o<l;o++){const{el:f,component:d}=n[o].vm,x=Number.parseInt(f.style[c],10)-r-g;d.props.offset=x}}function I(){for(const e of Object.values(p))e.forEach(({vm:t})=>{t.component.exposed.visible.value=!1})}m.closeAll=I;m._context=null;export{m as n};
