import{o as r}from"./vendor-NXsq-DDPfcrtu.js";import{E as a}from"./vendor-bP7i-BUADUvnR.js";import{t as u}from"./vendor-RE7Z-DOm9JKld.js";const o="_trap-focus-children",n=[],c=t=>{if(n.length===0)return;const e=n[n.length-1][o];if(e.length>0&&t.code===a.tab){if(e.length===1){t.preventDefault(),document.activeElement!==e[0]&&e[0].focus();return}const s=t.shiftKey,i=t.target===e[0],f=t.target===e[e.length-1];i&&s&&(t.preventDefault(),e[e.length-1].focus()),f&&!s&&(t.preventDefault(),e[0].focus())}},g={beforeMount(t){t[o]=r(t),n.push(t),n.length<=1&&document.addEventListener("keydown",c)},updated(t){u(()=>{t[o]=r(t)})},unmounted(){n.shift(),n.length===0&&document.removeEventListener("keydown",c)}};export{g as T};
