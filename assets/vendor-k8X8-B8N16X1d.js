import{w as u,b as B,a as y,v as K}from"./vendor-8F4M-BzORa8vA.js";import{E as U}from"./vendor-NFpn-BrHihosC.js";import{E as F}from"./vendor-MxHc-DHRJLLZd.js";import{E as G}from"./vendor-WXXn-CEyMwSfL.js";import{E as W}from"./vendor-AQSj-DFJim-ok.js";import{O as j}from"./vendor-Xy94-C_noWXmw.js";import{E as q}from"./vendor-sJor-DVXdMXfa.js";import{u as J}from"./vendor-anza-CgNyk7QR.js";import{s as Q}from"./vendor-8i6V-DI9FKtlJ.js";import{E as X}from"./vendor-32WV-DvlGXv7-.js";import{S as Y}from"./vendor-5Q5O-EnO5ixKW.js";import{_ as Z}from"./vendor-pM4a-CqGSI99y.js";import{C as _}from"./vendor-UDEi-Bp1F1IF-.js";import{U as x,C as ee}from"./vendor-lLeK-BB_Ol6Sd.js";import{n as l,t as c,a as T,H as le,i as se}from"./vendor-7avT-DhdrFwTb.js";import{u as oe}from"./vendor-7wHf-C8xLjhw8.js";import{d as ae,v as m,x as te,y as $,a,o as s,z as v,h as t,C as n,r as p,f,b as i,F as R,D as M,E as z,i as V,c as D,p as ne}from"./vendor-RE7Z-DOm9JKld.js";import{a as L,t as ie}from"./vendor-eqDO-Ti6p_k8X.js";const N="ElSelect",re=ae({name:N,componentName:N,components:{ElSelectMenu:q,ElOption:j,ElOptions:X,ElTag:G,ElScrollbar:F,ElTooltip:U,ElIcon:W},directives:{ClickOutside:_},props:Y,emits:[x,ee,"remove-tag","clear","visible-change","focus","blur","popup-scroll"],setup(e,{emit:O}){const k=D(()=>{const{modelValue:d,multiple:S}=e,h=S?[]:void 0;return se(d)?S?d:h:S?h:d}),w=L({...ie(e),modelValue:k}),r=J(w,O),{calculatorRef:I,inputStyle:b}=oe();ne(Q,L({props:w,states:r.states,optionsArray:r.optionsArray,handleOptionSelect:r.handleOptionSelect,onOptionCreate:r.onOptionCreate,onOptionDestroy:r.onOptionDestroy,selectRef:r.selectRef,setSelected:r.setSelected}));const C=D(()=>e.multiple?r.states.selected.map(d=>d.currentLabel):r.states.selectedLabel);return{...r,modelValue:k,selectedLabel:C,calculatorRef:I,inputStyle:b}}});function pe(e,O,k,w,r,I){const b=m("el-tag"),C=m("el-tooltip"),d=m("el-icon"),S=m("el-option"),h=m("el-options"),P=m("el-scrollbar"),H=m("el-select-menu"),A=te("click-outside");return $((s(),a("div",{ref:"selectRef",class:l([e.nsSelect.b(),e.nsSelect.m(e.selectSize)]),[le(e.mouseEnterEventName)]:g=>e.states.inputHovering=!0,onMouseleave:g=>e.states.inputHovering=!1},[v(C,{ref:"tooltipRef",visible:e.dropdownMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,"append-to":e.appendTo,"show-arrow":e.showArrow,offset:e.offset,onBeforeShow:e.handleMenuEnter,onHide:g=>e.states.isBeforeHide=!1},{default:t(()=>{var g;return[i("div",{ref:"wrapperRef",class:l([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)]),onClick:u(e.toggleMenu,["prevent"])},[e.$slots.prefix?(s(),a("div",{key:0,ref:"prefixRef",class:l(e.nsSelect.e("prefix"))},[p(e.$slots,"prefix")],2)):n("v-if",!0),i("div",{ref:"selectionRef",class:l([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.states.selected.length)])},[e.multiple?p(e.$slots,"tag",{key:0},()=>[(s(!0),a(R,null,M(e.showTagList,o=>(s(),a("div",{key:e.getValueKey(o),class:l(e.nsSelect.e("selected-item"))},[v(b,{closable:!e.selectDisabled&&!o.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:T(e.tagStyle),onClose:E=>e.deleteTag(E,o)},{default:t(()=>[i("span",{class:l(e.nsSelect.e("tags-text"))},[p(e.$slots,"label",{label:o.currentLabel,value:o.value},()=>[z(c(o.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),e.collapseTags&&e.states.selected.length>e.maxCollapseTags?(s(),f(C,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:t(()=>[i("div",{ref:"collapseItemRef",class:l(e.nsSelect.e("selected-item"))},[v(b,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:T(e.collapseTagStyle)},{default:t(()=>[i("span",{class:l(e.nsSelect.e("tags-text"))}," + "+c(e.states.selected.length-e.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:t(()=>[i("div",{ref:"tagMenuRef",class:l(e.nsSelect.e("selection"))},[(s(!0),a(R,null,M(e.collapseTagList,o=>(s(),a("div",{key:e.getValueKey(o),class:l(e.nsSelect.e("selected-item"))},[v(b,{class:"in-tooltip",closable:!e.selectDisabled&&!o.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",onClose:E=>e.deleteTag(E,o)},{default:t(()=>[i("span",{class:l(e.nsSelect.e("tags-text"))},[p(e.$slots,"label",{label:o.currentLabel,value:o.value},()=>[z(c(o.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):n("v-if",!0)]):n("v-if",!0),i("div",{class:l([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable)])},[$(i("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":o=>e.states.inputValue=o,type:"text",name:e.name,class:l([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:T(e.inputStyle),tabindex:e.tabindex,role:"combobox",readonly:!e.filterable,spellcheck:"false","aria-activedescendant":((g=e.hoverOption)==null?void 0:g.id)||"","aria-controls":e.contentId,"aria-expanded":e.dropdownMenuVisible,"aria-label":e.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:[y(u(o=>e.navigateOptions("next"),["stop","prevent"]),["down"]),y(u(o=>e.navigateOptions("prev"),["stop","prevent"]),["up"]),y(u(e.handleEsc,["stop","prevent"]),["esc"]),y(u(e.selectOption,["stop","prevent"]),["enter"]),y(u(e.deletePrevTag,["stop"]),["delete"])],onCompositionstart:e.handleCompositionStart,onCompositionupdate:e.handleCompositionUpdate,onCompositionend:e.handleCompositionEnd,onInput:e.onInput,onClick:u(e.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","name","disabled","autocomplete","tabindex","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onClick"]),[[K,e.states.inputValue]]),e.filterable?(s(),a("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:l(e.nsSelect.e("input-calculator")),textContent:c(e.states.inputValue)},null,10,["textContent"])):n("v-if",!0)],2),e.shouldShowPlaceholder?(s(),a("div",{key:1,class:l([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?p(e.$slots,"label",{key:0,label:e.currentPlaceholder,value:e.modelValue},()=>[i("span",null,c(e.currentPlaceholder),1)]):(s(),a("span",{key:1},c(e.currentPlaceholder),1))],2)):n("v-if",!0)],2),i("div",{ref:"suffixRef",class:l(e.nsSelect.e("suffix"))},[e.iconComponent&&!e.showClose?(s(),f(d,{key:0,class:l([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:t(()=>[(s(),f(V(e.iconComponent)))]),_:1},8,["class"])):n("v-if",!0),e.showClose&&e.clearIcon?(s(),f(d,{key:1,class:l([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.nsSelect.e("clear")]),onClick:e.handleClearClick},{default:t(()=>[(s(),f(V(e.clearIcon)))]),_:1},8,["class","onClick"])):n("v-if",!0),e.validateState&&e.validateIcon&&e.needStatusIcon?(s(),f(d,{key:2,class:l([e.nsInput.e("icon"),e.nsInput.e("validateIcon"),e.nsInput.is("loading",e.validateState==="validating")])},{default:t(()=>[(s(),f(V(e.validateIcon)))]),_:1},8,["class"])):n("v-if",!0)],2)],10,["onClick"])]}),content:t(()=>[v(H,{ref:"menuRef"},{default:t(()=>[e.$slots.header?(s(),a("div",{key:0,class:l(e.nsSelect.be("dropdown","header")),onClick:u(()=>{},["stop"])},[p(e.$slots,"header")],10,["onClick"])):n("v-if",!0),$(v(P,{id:e.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:l([e.nsSelect.is("empty",e.filteredOptionsCount===0)]),role:"listbox","aria-label":e.ariaLabel,"aria-orientation":"vertical",onScroll:e.popupScroll},{default:t(()=>[e.showNewOption?(s(),f(S,{key:0,value:e.states.inputValue,created:!0},null,8,["value"])):n("v-if",!0),v(h,null,{default:t(()=>[p(e.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label","onScroll"]),[[B,e.states.options.size>0&&!e.loading]]),e.$slots.loading&&e.loading?(s(),a("div",{key:1,class:l(e.nsSelect.be("dropdown","loading"))},[p(e.$slots,"loading")],2)):e.loading||e.filteredOptionsCount===0?(s(),a("div",{key:2,class:l(e.nsSelect.be("dropdown","empty"))},[p(e.$slots,"empty",{},()=>[i("span",null,c(e.emptyText),1)])],2)):n("v-if",!0),e.$slots.footer?(s(),a("div",{key:3,class:l(e.nsSelect.be("dropdown","footer")),onClick:u(()=>{},["stop"])},[p(e.$slots,"footer")],10,["onClick"])):n("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],16,["onMouseleave"])),[[A,e.handleClickOutside,e.popperRef]])}var Oe=Z(re,[["render",pe],["__file","select.vue"]]);export{Oe as S};
