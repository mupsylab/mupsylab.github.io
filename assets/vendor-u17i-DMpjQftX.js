import{h as Y,u as O}from"./vendor-5WKb-KWd2YoVw.js";import{s as R,a as A}from"./vendor-bGjd-BSTrOFAc.js";import{_ as j}from"./vendor-pM4a-CqGSI99y.js";import{u as q}from"./vendor-unoq-CFxLHdLI.js";import{u as P}from"./vendor-9Byw-aJtbE-z4.js";import{u as U,a as G}from"./vendor-hmuK-B6xHqdWm.js";import{u as H,a as M}from"./vendor-eqCW-DCj8_tuZ.js";import{n as o,a as W,t as J,j as g}from"./vendor-7avT-DhdrFwTb.js";import{d as K}from"./vendor-0rdd-Cq9Fpw4b.js";import{U as Q,C as Z}from"./vendor-lLeK-BB_Ol6Sd.js";import{d as E,c as d,w as C,a as b,C as ee,o as v,b as u,F as te,D as se,r as ae,E as le}from"./vendor-RE7Z-DOm9JKld.js";import{r as ne,a as re,u as l}from"./vendor-eqDO-Ti6p_k8X.js";const oe=E({name:"ElSegmented"}),ie=E({...oe,props:A,emits:R,setup(S,{emit:h}){const s=S,a=q("segmented"),V=P(),k=U(),w=G(),{formItem:i}=H(),{inputId:F,isLabeledByFormItem:I}=M(s,{formItemContext:i}),c=ne(null),N=Y(),t=re({isInit:!1,width:0,height:0,translateX:0,translateY:0,focusVisible:!1}),D=e=>{const n=m(e);h(Q,n),h(Z,n)},m=e=>g(e)?e.value:e,L=e=>g(e)?e.label:e,f=e=>!!(w.value||g(e)&&e.disabled),y=e=>s.modelValue===m(e),$=e=>s.options.find(n=>m(n)===e),x=e=>[a.e("item"),a.is("selected",y(e)),a.is("disabled",f(e))],p=()=>{if(!c.value)return;const e=c.value.querySelector(".is-selected"),n=c.value.querySelector(".is-selected input");if(!e||!n){t.width=0,t.height=0,t.translateX=0,t.translateY=0,t.focusVisible=!1;return}const r=e.getBoundingClientRect();t.isInit=!0,s.direction==="vertical"?(t.height=r.height,t.translateY=e.offsetTop):(t.width=r.width,t.translateX=e.offsetLeft);try{t.focusVisible=n.matches(":focus-visible")}catch{}},z=d(()=>[a.b(),a.m(k.value),a.is("block",s.block)]),B=d(()=>({width:s.direction==="vertical"?"100%":`${t.width}px`,height:s.direction==="vertical"?`${t.height}px`:"100%",transform:s.direction==="vertical"?`translateY(${t.translateY}px)`:`translateX(${t.translateX}px)`,display:t.isInit?"block":"none"})),T=d(()=>[a.e("item-selected"),a.is("disabled",f($(s.modelValue))),a.is("focus-visible",t.focusVisible)]),X=d(()=>s.name||V.value);return O(c,p),C(N,p),C(()=>s.modelValue,()=>{var e;p(),s.validateEvent&&((e=i==null?void 0:i.validate)==null||e.call(i,"change").catch(n=>K()))},{flush:"post"}),(e,n)=>e.options.length?(v(),b("div",{key:0,id:l(F),ref_key:"segmentedRef",ref:c,class:o(l(z)),role:"radiogroup","aria-label":l(I)?void 0:e.ariaLabel||"segmented","aria-labelledby":l(I)?l(i).labelId:void 0},[u("div",{class:o([l(a).e("group"),l(a).m(s.direction)])},[u("div",{style:W(l(B)),class:o(l(T))},null,6),(v(!0),b(te,null,se(e.options,(r,_)=>(v(),b("label",{key:_,class:o(x(r))},[u("input",{class:o(l(a).e("item-input")),type:"radio",name:l(X),disabled:f(r),checked:y(r),onChange:ce=>D(r)},null,42,["name","disabled","checked","onChange"]),u("div",{class:o(l(a).e("item-label"))},[ae(e.$slots,"default",{item:r},()=>[le(J(L(r)),1)])],2)],2))),128))],2)],10,["id","aria-label","aria-labelledby"])):ee("v-if",!0)}});var Ce=j(ie,[["__file","segmented.vue"]]);export{Ce as S};
