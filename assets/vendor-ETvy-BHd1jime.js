import{u as h}from"./vendor-PaCD-BGOM4hNh.js";import{r as f}from"./vendor-eqDO-Ti6p_k8X.js";import{c as w}from"./vendor-RE7Z-DOm9JKld.js";function C(l,n){const{aliasProps:c,getLabel:r,getValue:u}=h(l),i=f(0),d=f(),a=w(()=>l.allowCreate&&l.filterable);function O(e){const t=o=>r(o)===e;return l.options&&l.options.some(t)||n.createdOptions.some(t)}function s(e){a.value&&(l.multiple&&e.created?i.value++:d.value=e)}function v(e){if(a.value)if(e&&e.length>0){if(O(e))return;const t={[c.value.value]:e,[c.value.label]:e,created:!0,[c.value.disabled]:!1};n.createdOptions.length>=i.value?n.createdOptions[i.value]=t:n.createdOptions.push(t)}else if(l.multiple)n.createdOptions.length=i.value;else{const t=d.value;n.createdOptions.length=0,t&&t.created&&n.createdOptions.push(t)}}function p(e){if(!a.value||!e||!e.created||e.created&&l.reserveKeyword&&n.inputValue===r(e))return;const t=n.createdOptions.findIndex(o=>u(o)===u(e));~t&&(n.createdOptions.splice(t,1),i.value--)}function m(){a.value&&(n.createdOptions.length=0,i.value=0)}return{createNewOption:v,removeNewOption:p,selectNewOption:s,clearAllNewOption:m}}export{C as u};
