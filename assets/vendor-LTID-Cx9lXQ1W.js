import{e as h,b as A,T}from"./vendor-8F4M-BzORa8vA.js";import{a as w}from"./vendor-sC5d-B-dxDEiz.js";import{r as m}from"./vendor-7XBs-C2ZIZBcB.js";import{r as y,a as N,t as S}from"./vendor-eqDO-Ti6p_k8X.js";import{d as _,n as r,h as $,y as k,z as B}from"./vendor-RE7Z-DOm9JKld.js";function F(s){let c;const i=y(!1),t=N({...s,originalPosition:"",originalOverflow:"",visible:!1});function f(e){t.text=e}function g(){const e=t.parent,a=o.ns;if(!e.vLoadingAddClassList){let n=e.getAttribute("loading-number");n=Number.parseInt(n)-1,n?e.setAttribute("loading-number",n.toString()):(m(e,a.bm("parent","relative")),e.removeAttribute("loading-number")),m(e,a.bm("parent","hidden"))}d(),u.unmount()}function d(){var e,a;(a=(e=o.$el)==null?void 0:e.parentNode)==null||a.removeChild(o.$el)}function b(){var e;s.beforeClose&&!s.beforeClose()||(i.value=!0,clearTimeout(c),c=setTimeout(l,400),t.visible=!1,(e=s.closed)==null||e.call(s))}function l(){if(!i.value)return;const e=t.parent;i.value=!1,e.vLoadingAddClassList=void 0,g()}const p=_({name:"ElLoading",setup(e,{expose:a}){const{ns:n,zIndex:C}=w("loading");return a({ns:n,zIndex:C}),()=>{const v=t.spinner||t.svg,x=r("svg",{class:"circular",viewBox:t.svgViewBox?t.svgViewBox:"0 0 50 50",...v?{innerHTML:v}:{}},[r("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),L=t.text?r("p",{class:n.b("text")},[t.text]):void 0;return r(T,{name:n.b("fade"),onAfterLeave:l},{default:$(()=>[k(B("div",{style:{backgroundColor:t.background||""},class:[n.b("mask"),t.customClass,t.fullscreen?"is-fullscreen":""]},[r("div",{class:n.b("spinner")},[x,L])]),[[A,t.visible]])])})}}}),u=h(p),o=u.mount(document.createElement("div"));return{...S(t),setText:f,removeElLoadingChild:d,close:b,handleAfterLeave:l,vm:o,get $el(){return o.$el}}}export{F as c};
